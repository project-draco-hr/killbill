{
  final UUID accountId=UUID.randomUUID();
  final Invoice invoice=new DefaultInvoice(accountId,clock.getUTCToday(),clock.getUTCToday(),Currency.USD);
  invoiceUtil.createInvoice(invoice,true,internalCallContext);
  final InvoiceModelDao retrievedInvoice=invoiceDao.getById(invoice.getId(),internalCallContext);
  invoiceUtil.checkInvoicesEqual(retrievedInvoice,invoice);
  invoiceUtil.checkInvoicesEqual(invoiceDao.getByNumber(retrievedInvoice.getInvoiceNumber(),internalCallContext),invoice);
}

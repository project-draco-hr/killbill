{
  return bundlesDao.inTransaction(new Transaction<SubscriptionBundle,BundleSqlDao>(){
    @Override public SubscriptionBundle inTransaction(    BundleSqlDao bundlesDao,    TransactionStatus status){
      bundlesDao.insertBundle(bundle);
      AuditSqlDao auditSqlDao=bundlesDao.become(AuditSqlDao.class);
      String bundleId=bundle.getId().toString();
      auditSqlDao.insertAuditFromTransaction(BUNDLES_TABLE_NAME,bundleId,ChangeType.INSERT,context);
      return bundle;
    }
  }
);
}

{
  return Iterables.tryFind(payment.getTransactions(),new Predicate<DirectPaymentTransaction>(){
    @Override public boolean apply(    final DirectPaymentTransaction input){
      return input.getTransactionType() == TransactionType.PURCHASE;
    }
  }
).get();
}

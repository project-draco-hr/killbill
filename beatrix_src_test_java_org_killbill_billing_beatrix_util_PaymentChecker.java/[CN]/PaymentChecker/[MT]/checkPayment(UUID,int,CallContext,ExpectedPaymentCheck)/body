{
  final List<DirectPayment> payments=paymentApi.getAccountPayments(accountId,context);
  Assert.assertEquals(payments.size(),paymentOrderingNumber);
  final DirectPayment payment=payments.get(paymentOrderingNumber - 1);
  final DirectPaymentTransaction transaction=getPurchaseTransaction(payment);
  if (transaction.getPaymentStatus() == PaymentStatus.UNKNOWN) {
    checkPaymentNoAuditForRuntimeException(accountId,payment,expected);
  }
 else {
    checkPayment(accountId,payment,context,expected);
  }
  return payment;
}

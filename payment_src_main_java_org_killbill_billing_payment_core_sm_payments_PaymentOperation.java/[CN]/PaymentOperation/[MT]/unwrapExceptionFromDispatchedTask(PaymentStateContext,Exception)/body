{
  final Throwable originalExceptionOrCause=e instanceof ExecutionException ? MoreObjects.firstNonNull(e.getCause(),e) : e;
  if (originalExceptionOrCause instanceof LockFailedException) {
    logger.warn("Failed to lock account {}",paymentStateContext.getAccount().getExternalKey());
  }
 else   if (originalExceptionOrCause instanceof TimeoutException) {
    logger.error("Plugin call TIMEOUT for account {}",paymentStateContext.getAccount().getExternalKey());
  }
 else   if (originalExceptionOrCause instanceof InterruptedException) {
    logger.error("Plugin call was interrupted for account {}",paymentStateContext.getAccount().getExternalKey());
  }
 else {
    logger.warn("Payment plugin call threw an exception for account {}",paymentStateContext.getAccount().getExternalKey(),originalExceptionOrCause);
  }
  return convertToUnknownTransactionStatusAndErroredPaymentState(originalExceptionOrCause);
}

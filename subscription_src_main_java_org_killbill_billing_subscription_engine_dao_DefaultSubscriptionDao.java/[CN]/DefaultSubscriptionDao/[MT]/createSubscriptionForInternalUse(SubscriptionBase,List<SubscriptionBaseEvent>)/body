{
  final DefaultSubscriptionBase result=new DefaultSubscriptionBase(new SubscriptionBuilder(((DefaultSubscriptionBase)shellSubscription)),null,clock);
  if (events.size() > 0) {
    result.rebuildTransitions(events,catalogService.getFullCatalog());
  }
  return result;
}

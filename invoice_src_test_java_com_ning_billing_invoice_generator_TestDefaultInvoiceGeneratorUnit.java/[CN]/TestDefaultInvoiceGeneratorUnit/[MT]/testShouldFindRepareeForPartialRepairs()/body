{
  final LocalDate startDate=new LocalDate(2012,5,1);
  final LocalDate endDate=new LocalDate(2012,6,1);
  final InvoiceItem silver=new RecurringInvoiceItem(invoiceId,accountId,bundleId,subscriptionId,planName,phaseName,startDate,endDate,BigDecimal.TEN,BigDecimal.TEN,currency);
  final LocalDate actualEndDateSilver=new LocalDate(2012,5,10);
  final InvoiceItem actualSilver=new RecurringInvoiceItem(invoiceId,accountId,bundleId,subscriptionId,planName,phaseName,startDate,actualEndDateSilver,new BigDecimal("3"),BigDecimal.TEN,currency);
  final InvoiceItem gold=new RecurringInvoiceItem(invoiceId,accountId,bundleId,subscriptionId,"new-" + planName,phaseName,actualEndDateSilver,endDate,BigDecimal.TEN,new BigDecimal("15"),currency);
  assertFalse(((DefaultInvoiceGenerator)generator).isRepareeItemForRepairedItem(silver,silver));
  assertFalse(((DefaultInvoiceGenerator)generator).isRepareeItemForRepairedItem(silver,gold));
  assertTrue(((DefaultInvoiceGenerator)generator).isRepareeItemForRepairedItem(silver,actualSilver));
}

{
  for (int i=1; i < versions.size(); i++) {
    StandaloneCatalog c=versions.get(i);
    if (c.getEffectiveDate().getTime() > date.getTime()) {
      return i - 1;
    }
  }
  return versions.size() - 1;
}

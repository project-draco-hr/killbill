{
  logService.log(LogService.LOG_INFO,"doHandleStaticResource " + resourceName);
  final URL resourceUrl=Resources.getResource(resourceName);
  final String[] parts=resourceName.split("/");
  if (parts.length > 2) {
    if (parts[1].equals("javascript")) {
      resp.setContentType("application/javascript");
    }
 else     if (parts[1].equals("styles")) {
      resp.setContentType("text/css");
    }
    Resources.copy(resourceUrl,resp.getOutputStream());
  }
 else {
    logService.log(LogService.LOG_INFO,"doHandleStaticResource rewritting html  " + resourceName);
    final ByteArrayOutputStream out=new ByteArrayOutputStream();
    Resources.copy(resourceUrl,out);
    String inputHtml=new String(out.toByteArray());
    String tmp1=inputHtml.replace("$VAR_SERVER","\"" + SERVER_IP + "\"");
    String tmp2=tmp1.replace("$VAR_PORT","\"" + SERVER_PORT + "\"");
    resp.getOutputStream().write(tmp2.getBytes());
    resp.setContentType("text/html");
  }
  resp.setStatus(HttpServletResponse.SC_OK);
}

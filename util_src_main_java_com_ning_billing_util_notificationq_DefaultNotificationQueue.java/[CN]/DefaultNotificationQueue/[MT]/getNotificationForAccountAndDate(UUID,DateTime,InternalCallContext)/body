{
  final Long accountRecordId=dbi.withHandle(new HandleCallback<Long>(){
    @Override public Long withHandle(    final Handle handle) throws Exception {
      final List<Map<String,Object>> values=handle.select("select record_id from accounts where id = " + accountId.toString());
      if (values.size() == 0) {
        return null;
      }
 else {
        return (Long)values.get(0).get("record_id");
      }
    }
  }
);
  if (accountId == null) {
    return ImmutableList.<Notification>of();
  }
 else {
    return dao.getNotificationForAccountAndDate(accountRecordId,effectiveDate.toDate(),context);
  }
}

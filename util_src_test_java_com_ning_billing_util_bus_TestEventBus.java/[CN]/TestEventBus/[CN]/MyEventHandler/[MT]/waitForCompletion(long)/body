{
  while (gotEvents < expectedEvents) {
    try {
      wait(timeoutMs);
      break;
    }
 catch (    InterruptedException ignore) {
    }
  }
  return (gotEvents == expectedEvents);
}

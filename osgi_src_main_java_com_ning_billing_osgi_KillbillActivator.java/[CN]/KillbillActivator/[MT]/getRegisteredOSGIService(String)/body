{
  try {
    ServiceTracker tracker=liveTrackers.get(serviceClassName);
    if (tracker == null) {
      throw new LiveTrackerException("No live tracker for service " + serviceClassName);
    }
    S result=(S)tracker.getService();
    if (result == null) {
      throw new LiveTrackerException("Live tracker found a null service for " + serviceClassName);
    }
    return result;
  }
 catch (  ClassCastException e) {
    throw new LiveTrackerException("Live tracker got ClassCastException for " + serviceClassName,e);
  }
}

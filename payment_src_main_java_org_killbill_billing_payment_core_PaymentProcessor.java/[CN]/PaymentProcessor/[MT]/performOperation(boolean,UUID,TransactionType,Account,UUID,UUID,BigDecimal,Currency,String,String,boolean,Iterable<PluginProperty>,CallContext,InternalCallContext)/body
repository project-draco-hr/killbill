{
  validateUniqueTransactionExternalKey(paymentTransactionExternalKey,internalCallContext);
  final UUID nonNullPaymentId=paymentAutomatonRunner.run(isApiPayment,transactionType,account,attemptId,paymentMethodId,paymentId,paymentExternalKey,paymentTransactionExternalKey,amount,currency,shouldLockAccountAndDispatch,properties,callContext,internalCallContext);
  return getPayment(nonNullPaymentId,true,properties,callContext,internalCallContext);
}

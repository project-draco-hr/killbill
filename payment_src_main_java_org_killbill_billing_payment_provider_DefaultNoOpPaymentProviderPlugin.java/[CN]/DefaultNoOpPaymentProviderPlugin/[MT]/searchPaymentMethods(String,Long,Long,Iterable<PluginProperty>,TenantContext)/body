{
  final ImmutableList<PaymentMethodPlugin> allResults=ImmutableList.<PaymentMethodPlugin>copyOf(Iterables.<PaymentMethodPlugin>filter(Iterables.<PaymentMethodPlugin>concat(paymentMethods.values()),new Predicate<PaymentMethodPlugin>(){
    @Override public boolean apply(    final PaymentMethodPlugin input){
      return (input.getAddress1() != null && input.getAddress1().contains(searchKey)) || (input.getAddress2() != null && input.getAddress2().contains(searchKey)) || (input.getCCLast4() != null && input.getCCLast4().contains(searchKey))|| (input.getCCName() != null && input.getCCName().contains(searchKey))|| (input.getCity() != null && input.getCity().contains(searchKey))|| (input.getState() != null && input.getState().contains(searchKey))|| (input.getCountry() != null && input.getCountry().contains(searchKey));
    }
  }
));
  final List<PaymentMethodPlugin> results;
  if (offset >= allResults.size()) {
    results=ImmutableList.<PaymentMethodPlugin>of();
  }
 else   if (offset + limit > allResults.size()) {
    results=allResults.subList(offset.intValue(),allResults.size());
  }
 else {
    results=allResults.subList(offset.intValue(),offset.intValue() + limit.intValue());
  }
  return new DefaultPagination<PaymentMethodPlugin>(offset,limit,(long)results.size(),(long)paymentMethods.values().size(),results.iterator());
}

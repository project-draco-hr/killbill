{
  PaymentPluginApi api=getTestPluginPaymentApi();
  final DateTime beforeCall=new DateTime().toDateTime(DateTimeZone.UTC).minusSeconds(1);
  PaymentInfoPlugin res=api.getPaymentInfo(UUID.randomUUID(),UUID.randomUUID(),callContext);
  final DateTime afterCall=new DateTime().toDateTime(DateTimeZone.UTC).plusSeconds(1);
  Assert.assertTrue(res.getAmount().compareTo(BigDecimal.ZERO) == 0);
  Assert.assertTrue(res.getCreatedDate().compareTo(beforeCall) >= 0);
  Assert.assertTrue(res.getCreatedDate().compareTo(afterCall) <= 0);
  Assert.assertTrue(res.getEffectiveDate().compareTo(beforeCall) >= 0);
  Assert.assertTrue(res.getEffectiveDate().compareTo(afterCall) <= 0);
  Assert.assertEquals(res.getGatewayError(),"gateway_error");
  Assert.assertEquals(res.getGatewayErrorCode(),"gateway_error_code");
  Assert.assertEquals(res.getStatus(),PaymentPluginStatus.PROCESSED);
}

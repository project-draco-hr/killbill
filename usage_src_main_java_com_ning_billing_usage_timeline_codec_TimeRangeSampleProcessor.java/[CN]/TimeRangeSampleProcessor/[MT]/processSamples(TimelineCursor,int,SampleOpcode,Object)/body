{
  for (int i=0; i < sampleCount; i++) {
    final DateTime sampleTime=timeCursor.getNextTime();
    if ((startTime == null || !sampleTime.isBefore(startTime)) && ((endTime == null || !sampleTime.isAfter(endTime)))) {
      processOneSample(sampleTime,opcode,value);
    }
  }
}

{
  final BigDecimal invoiceBalance=invoiceUserApi.getInvoice(invoiceId,tenantContext).getBalance();
  Assert.assertEquals(invoiceBalance.compareTo(BigDecimal.ZERO),1);
  final BigDecimal accountBalance=invoiceUserApi.getAccountBalance(accountId,tenantContext);
  Assert.assertEquals(accountBalance,invoiceBalance);
  final BigDecimal externalChargeAmount=BigDecimal.TEN;
  final InvoiceItem externalChargeInvoiceItem=invoiceUserApi.insertExternalChargeForInvoice(accountId,invoiceId,externalChargeAmount,UUID.randomUUID().toString(),clock.getUTCToday(),accountCurrency,context);
  verifyExternalChargeOnExistingInvoice(invoiceBalance,null,externalChargeAmount,externalChargeInvoiceItem);
}

{
  final LocalDate startDate=invoiceUtil.buildDate(2011,1,31);
  final LocalDate planChangeDate=invoiceUtil.buildDate(2011,5,10);
  final LocalDate targetDate=invoiceUtil.buildDate(2011,5,21);
  BigDecimal expectedValue;
  expectedValue=new BigDecimal("66.00").divide(NINETY,2 * NUMBER_OF_DECIMALS,ROUNDING_METHOD);
  expectedValue=expectedValue.add(new BigDecimal("33.00").divide(NINETY_ONE,2 * NUMBER_OF_DECIMALS,ROUNDING_METHOD)).setScale(NUMBER_OF_DECIMALS,ROUNDING_METHOD);
  testCalculateNumberOfBillingCycles(startDate,planChangeDate,targetDate,7,expectedValue);
  expectedValue=FIVE.divide(EIGHTY_NINE,NUMBER_OF_DECIMALS,ROUNDING_METHOD).add(ONE).setScale(NUMBER_OF_DECIMALS,ROUNDING_METHOD);
  testCalculateNumberOfBillingCycles(planChangeDate,targetDate,15,expectedValue);
}

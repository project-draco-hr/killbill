{
  final List<SubscriptionBaseBundle> existingBundles=dao.getSubscriptionBundlesForKey(bundleKey,context);
  final SubscriptionBaseBundle result=getActiveBundleForKeyNotException(existingBundles,dao,clock,context);
  if (result == null) {
    throw new SubscriptionBaseApiException(ErrorCode.SUB_GET_INVALID_BUNDLE_KEY,bundleKey);
  }
  return result;
}

{
  if (exception instanceof NullPointerException) {
    return buildBadRequestResponse(exception,uriInfo);
  }
 else   if (exception instanceof WebApplicationException) {
    return ((WebApplicationException)exception).getResponse();
  }
 else {
    return buildInternalErrorResponse(exception,uriInfo);
  }
}

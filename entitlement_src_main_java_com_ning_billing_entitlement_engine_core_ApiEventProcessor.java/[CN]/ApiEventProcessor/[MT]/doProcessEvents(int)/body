{
  long prev=nbProcessedEvents;
  List<IEvent> claimedEvents=dao.getEventsReady(apiProcessorId,sequenceId);
  if (claimedEvents.size() == 0) {
    return false;
  }
  log.debug(String.format("ApiEventProcessor got %d events",claimedEvents.size()));
  for (  IEvent cur : claimedEvents) {
    log.debug(String.format("ApiEventProcessor seq = %d got event %s",sequenceId,cur.getId()));
    listener.processEventReady(cur);
    nbProcessedEvents++;
  }
  log.debug(String.format("ApiEventProcessor processed %d events",nbProcessedEvents - prev));
  dao.clearEventsReady(apiProcessorId,claimedEvents);
  log.debug(String.format("ApiEventProcessor cleared events %d",nbProcessedEvents - prev));
  return true;
}

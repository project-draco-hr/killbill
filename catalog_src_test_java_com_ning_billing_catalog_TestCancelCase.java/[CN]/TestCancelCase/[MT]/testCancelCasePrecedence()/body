{
  Product P1=createProduct("FP");
  Product P2=createProduct("BP");
  Catalog c=createCatalog(new PlanChangeRule[]{},new PlanChangeCase[]{},new PlanCancelCase[]{new PlanCancelCase(P1,null,null,END_OF_TERM),new PlanCancelCase(P1,null,TRIAL,IMMEDIATE)},P1,P2);
  assertEquals(END_OF_TERM,c.getPlanCancelPolicy(new PlanPhaseSpecifier("FP",MONTHLY,null,EVERGREEN)));
  assertEquals(END_OF_TERM,c.getPlanCancelPolicy(new PlanPhaseSpecifier("FP",ANNUAL,null,EVERGREEN)));
  assertEquals(IMMEDIATE,c.getPlanCancelPolicy(new PlanPhaseSpecifier("FP",ANNUAL,null,TRIAL)));
}

{
  if (transitions == null || event == null) {
    return null;
  }
  SubscriptionTransitionData prev=null;
  for (  final SubscriptionTransition cur : transitions) {
    final SubscriptionTransitionData curData=(SubscriptionTransitionData)cur;
    if (curData.getId().equals(event.getId())) {
      final SubscriptionTransitionData withSeq=new SubscriptionTransitionData(curData,seqId);
      return withSeq;
    }
    if (curData.getTotalOrdering() < event.getTotalOrdering()) {
      prev=curData;
    }
  }
  if (prev != null && event.getType() == EventType.API_USER && ((ApiEvent)event).getEventType() == ApiEventType.UNCANCEL) {
    final SubscriptionTransitionData withSeq=new SubscriptionTransitionData((SubscriptionTransitionData)prev,EventType.API_USER,ApiEventType.UNCANCEL,seqId);
    return withSeq;
  }
  return null;
}

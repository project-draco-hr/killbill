{
  NotificationSystem ns=new NotificationSystem();
  ns.register(new INotificationHandler<TestNotify>(){
    @Override public void handle(    TestNotify notification){
      notified=true;
    }
  }
,TestNotify.class);
  ns.register(new INotificationHandler<TestDontNotify>(){
    @Override public void handle(    TestDontNotify notification){
      fail("This notification should not be called");
    }
  }
,TestDontNotify.class);
  ns.publish(new TestNotify());
  assertTrue(notified);
}

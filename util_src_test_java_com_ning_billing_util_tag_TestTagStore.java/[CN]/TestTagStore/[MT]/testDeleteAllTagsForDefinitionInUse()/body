{
  String definitionName="TestTag1234567";
  try {
    tagDefinitionDao.create(definitionName,"Some test tag",context);
  }
 catch (  TagDefinitionApiException e) {
    fail("Could not create tag definition",e);
  }
  TagDefinition tagDefinition=tagDefinitionDao.getByName(definitionName);
  assertNotNull(tagDefinition);
  UUID objectId=UUID.randomUUID();
  String objectType="TestType";
  TagStore tagStore=new DefaultTagStore(objectId,objectType);
  Tag tag=new DescriptiveTag(tagDefinition);
  tagStore.add(tag);
  saveTags(tagSqlDao,objectType,objectId,tagStore.getEntityList(),context);
  List<Tag> tags=tagSqlDao.load(objectId.toString(),objectType);
  assertEquals(tags.size(),1);
  try {
    tagDefinitionDao.deleteAllTagsForDefinition(definitionName,context);
  }
 catch (  TagDefinitionApiException e) {
    fail("Could not delete tags for tag definition",e);
  }
  try {
    tagDefinitionDao.deleteTagDefinition(definitionName,context);
  }
 catch (  TagDefinitionApiException e) {
    fail("Could not delete tag definition",e);
  }
}

{
  final BusinessSubscriptionEvent businessEvent=BusinessSubscriptionEvent.fromTransition(subscriptionTransition);
  if (businessEvent == null) {
    return null;
  }
  final BusinessSubscription nextSubscription=new BusinessSubscription(subscriptionTransition.getNextPlan(),subscriptionTransition.getNextPhase(),subscriptionTransition.getNextPriceList(),account.getCurrency(),subscriptionTransition.getEffectiveTransitionTime(),subscriptionTransition.getNextState());
  final Long subscriptionEventRecordId=getSubscriptionEventRecordId(subscriptionTransition.getNextEventId(),context);
  final AuditLog creationAuditLog=getSubscriptionEventCreationAuditLog(subscriptionTransition.getNextEventId(),context);
  final Long accountRecordId=getAccountRecordId(account.getId(),context);
  final Long tenantRecordId=getTenantRecordId(context);
  return new BusinessSubscriptionTransitionModelDao(account,accountRecordId,subscriptionBundle,subscriptionTransition,subscriptionEventRecordId,subscriptionTransition.getRequestedTransitionTime(),businessEvent,prevBst == null ? null : prevBst.getNextSubscription(),nextSubscription,creationAuditLog,tenantRecordId);
}

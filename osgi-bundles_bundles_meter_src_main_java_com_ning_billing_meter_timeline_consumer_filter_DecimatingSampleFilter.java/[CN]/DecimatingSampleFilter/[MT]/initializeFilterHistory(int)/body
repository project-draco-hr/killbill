{
  if (outputCount <= 0 || sampleCount <= 0 || outputCount > sampleCount) {
    throw new IllegalArgumentException(String.format("In DecimatingSampleFilter.initialize(), outputCount is %d but sampleCount is %d",outputCount,sampleCount));
  }
  this.samplesPerOutput=(double)sampleCount / (double)outputCount;
  this.outputsPerSample=1.0 / this.samplesPerOutput;
  ceilSamplesPerOutput=(int)Math.ceil(samplesPerOutput);
  filterHistory=new SampleState[ceilSamplesPerOutput];
  initialized=true;
}

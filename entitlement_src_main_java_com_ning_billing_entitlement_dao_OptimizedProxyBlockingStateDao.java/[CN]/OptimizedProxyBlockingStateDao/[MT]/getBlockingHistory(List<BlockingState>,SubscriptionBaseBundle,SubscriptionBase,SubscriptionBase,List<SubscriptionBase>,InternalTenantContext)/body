{
  if (!ProductCategory.ADD_ON.equals(subscription.getCategory())) {
    return blockingStatesOnDisk;
  }
  final Iterable<EventsStream> eventsStreams=ImmutableList.<EventsStream>of(eventsStreamBuilder.buildForEntitlement(bundle,baseSubscription,allSubscriptionsForBundle,context));
  return addBlockingStatesNotOnDisk(subscription.getId(),BlockingStateType.SUBSCRIPTION,new LinkedList<BlockingState>(blockingStatesOnDisk),ImmutableList.<SubscriptionBase>of(baseSubscription),eventsStreams);
}

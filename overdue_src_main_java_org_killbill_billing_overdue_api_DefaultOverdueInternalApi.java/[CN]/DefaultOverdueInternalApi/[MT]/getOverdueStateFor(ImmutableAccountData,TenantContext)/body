{
  try {
    final InternalTenantContext internalTenantContext=internalCallContextFactory.createInternalTenantContext(context);
    final String stateName=MoreObjects.firstNonNull(accessApi.getBlockingStateForService(overdueable.getId(),BlockingStateType.ACCOUNT,OverdueService.OVERDUE_SERVICE_NAME,internalCallContextFactory.createInternalTenantContext(context)).getStateName(),OverdueWrapper.CLEAR_STATE_NAME);
    final OverdueConfig overdueConfig=overdueConfigCache.getOverdueConfig(internalTenantContext);
    final OverdueStateSet states=((DefaultOverdueConfig)overdueConfig).getOverdueStatesAccount();
    return states.findState(stateName);
  }
 catch (  final OverdueApiException e) {
    throw new OverdueException(e,ErrorCode.OVERDUE_CAT_ERROR_ENCOUNTERED,overdueable.getId(),overdueable.getClass().getSimpleName());
  }
}

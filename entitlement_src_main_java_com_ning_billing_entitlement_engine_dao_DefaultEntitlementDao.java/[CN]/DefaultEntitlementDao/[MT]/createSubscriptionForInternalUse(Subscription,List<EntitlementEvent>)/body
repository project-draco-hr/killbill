{
  final SubscriptionData result=new SubscriptionData(new SubscriptionBuilder(((SubscriptionData)shellSubscription)),null,clock);
  if (events.size() > 0) {
    result.rebuildTransitions(events,catalogService.getFullCatalog());
  }
  return result;
}

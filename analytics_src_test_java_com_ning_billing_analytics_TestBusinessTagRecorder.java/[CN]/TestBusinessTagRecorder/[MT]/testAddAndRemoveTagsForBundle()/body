{
  final String name=UUID.randomUUID().toString().substring(0,20);
  final String externalKey=UUID.randomUUID().toString();
  final Account accountData=new MockAccountBuilder().currency(Currency.MXN).build();
  final Account account=accountUserApi.createAccount(accountData,callContext);
  final SubscriptionBundle bundle=entitlementUserApi.createBundleForAccount(account.getId(),externalKey,callContext);
  final UUID bundleId=bundle.getId();
  Assert.assertEquals(subscriptionTransitionTagSqlDao.getTagsForBusinessSubscriptionTransitionByKey(externalKey,internalCallContext).size(),0);
  tagDao.tagAdded(ObjectType.BUNDLE,bundleId,name,internalCallContext);
  Assert.assertEquals(subscriptionTransitionTagSqlDao.getTagsForBusinessSubscriptionTransitionByKey(externalKey,internalCallContext).size(),1);
  tagDao.tagRemoved(ObjectType.BUNDLE,bundleId,name,internalCallContext);
  Assert.assertEquals(subscriptionTransitionTagSqlDao.getTagsForBusinessSubscriptionTransitionByKey(externalKey,internalCallContext).size(),0);
}

{
  final String name=UUID.randomUUID().toString().substring(0,20);
  final CallContext callContext=callContextFactory.createCallContext(UUID.randomUUID().toString(),CallOrigin.TEST,UserType.TEST);
  final String accountKey=UUID.randomUUID().toString();
  final Account accountData=new MockAccountBuilder().externalKey(accountKey).currency(Currency.MXN).build();
  final Account account=accountUserApi.createAccount(accountData,callContext);
  final UUID accountId=account.getId();
  Assert.assertEquals(accountTagSqlDao.getTagsForAccount(accountKey).size(),0);
  tagRecorder.tagAdded(ObjectType.ACCOUNT,accountId,name);
  Assert.assertEquals(accountTagSqlDao.getTagsForAccount(accountKey).size(),1);
  tagRecorder.tagRemoved(ObjectType.ACCOUNT,accountId,name);
  Assert.assertEquals(accountTagSqlDao.getTagsForAccount(accountKey).size(),0);
}

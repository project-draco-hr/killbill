{
  setUp(null);
  callback.leavingState(state);
  verifyDirectPaymentTransaction();
  final PaymentModelDao directPayment=paymentDao.getDirectPayment(directPaymentStateContext.getDirectPaymentTransactionModelDao().getPaymentId(),internalCallContext);
  Assert.assertEquals(directPayment.getExternalKey(),directPaymentStateContext.getDirectPaymentExternalKey());
  Assert.assertNull(directPayment.getStateName());
  Assert.assertEquals(paymentDao.getDirectTransactionsForDirectPayment(directPayment.getId(),internalCallContext).size(),1);
}

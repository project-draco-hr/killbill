{
  daoHelper.createNewDirectPaymentTransaction();
  directPaymentStateContext.setPaymentInfoPlugin(null);
  operationResult=OperationResult.EXCEPTION;
  callback.enteringState(state,operationCallback,operationResult,leavingStateCallback);
  Assert.assertEquals(paymentDao.getDirectPaymentTransaction(directPaymentStateContext.getDirectPaymentTransactionModelDao().getId(),internalCallContext).getPaymentStatus(),PaymentStatus.PLUGIN_FAILURE_ABORTED);
}

{
  final UUID nonNullPaymentId;
  if (paymentId == null) {
    final PaymentTransactionModelDao transactionModelDao=paymentDao.getDirectPaymentTransaction(transactionId,internalCallContext);
    if (transactionModelDao == null) {
      throw new PaymentApiException(ErrorCode.PAYMENT_INVALID_PARAMETER,transactionId,"need to specify a valid transactionId");
    }
    nonNullPaymentId=transactionModelDao.getPaymentId();
  }
 else {
    nonNullPaymentId=paymentId;
  }
  return nonNullPaymentId;
}

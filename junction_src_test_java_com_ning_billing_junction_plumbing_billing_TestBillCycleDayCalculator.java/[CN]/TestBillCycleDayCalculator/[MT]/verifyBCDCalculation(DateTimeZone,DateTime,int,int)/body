{
  final BillCycleDayCalculator billCycleDayCalculator=new BillCycleDayCalculator(Mockito.mock(CatalogService.class),Mockito.mock(EntitlementUserApi.class));
  final Subscription subscription=Mockito.mock(Subscription.class);
  Mockito.when(subscription.getStartDate()).thenReturn(startDateUTC);
  final Plan plan=Mockito.mock(Plan.class);
  Mockito.when(plan.dateOfFirstRecurringNonZeroCharge(startDateUTC)).thenReturn(startDateUTC);
  final Account account=Mockito.mock(Account.class);
  Mockito.when(account.getTimeZone()).thenReturn(accountTimeZone);
  final BillCycleDay bcd=billCycleDayCalculator.calculateBcdFromSubscription(subscription,plan,account);
  Assert.assertEquals(bcd.getDayOfMonthUTC(),bcdUTC);
  Assert.assertEquals(bcd.getDayOfMonthLocal(),bcdLocal);
}

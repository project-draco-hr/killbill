{
  Multimap<LifecycleLevel,LifecycleHandler<? extends IService>> methodsInService=HashMultimap.create();
  Class<? extends IService> clazz=service.getClass();
  for (  Method method : clazz.getMethods()) {
    LifecycleHandlerType annotation=method.getAnnotation(LifecycleHandlerType.class);
    if (annotation != null) {
      LifecycleLevel level=annotation.value();
      LifecycleHandler<? extends IService> handler=new LifecycleHandler<IService>(service,method);
      methodsInService.put(level,handler);
    }
  }
  return methodsInService;
}

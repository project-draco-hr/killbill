{
  final UUID accountId=UUID.randomUUID();
  final DateTime targetDate1=new DateTime(2011,10,6,0,0,0,0);
  final Invoice invoice1=new DefaultInvoice(accountId,clock.getUTCNow(),targetDate1,Currency.USD);
  invoiceDao.create(invoice1,context);
  final DateTime targetDate2=new DateTime(2011,12,6,0,0,0,0);
  final Invoice invoice2=new DefaultInvoice(accountId,clock.getUTCNow(),targetDate2,Currency.USD);
  invoiceDao.create(invoice2,context);
  List<Invoice> invoices;
  invoices=invoiceDao.getInvoicesByAccount(accountId,new DateTime(2011,1,1,0,0,0,0));
  assertEquals(invoices.size(),2);
  invoices=invoiceDao.getInvoicesByAccount(accountId,new DateTime(2011,10,6,0,0,0,0));
  assertEquals(invoices.size(),2);
  invoices=invoiceDao.getInvoicesByAccount(accountId,new DateTime(2011,10,11,0,0,0,0));
  assertEquals(invoices.size(),1);
  invoices=invoiceDao.getInvoicesByAccount(accountId,new DateTime(2011,12,6,0,0,0,0));
  assertEquals(invoices.size(),1);
  invoices=invoiceDao.getInvoicesByAccount(accountId,new DateTime(2012,1,1,0,0,0,0));
  assertEquals(invoices.size(),0);
}

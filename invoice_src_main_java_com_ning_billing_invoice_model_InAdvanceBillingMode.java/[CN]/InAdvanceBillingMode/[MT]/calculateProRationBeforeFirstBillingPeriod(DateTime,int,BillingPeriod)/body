{
  DateTime nextBillingCycleDate=calculateBillingCycleDateOnOrAfter(startDate,billingCycleDay);
  DateTime previousBillingCycleDate=nextBillingCycleDate.plusMonths(-billingPeriod.getNumberOfMonths());
  BigDecimal daysInPeriod=new BigDecimal(Days.daysBetween(previousBillingCycleDate,nextBillingCycleDate).getDays());
  BigDecimal days=new BigDecimal(Days.daysBetween(startDate,nextBillingCycleDate).getDays());
  return days.divide(daysInPeriod,NUMBER_OF_DECIMALS,ROUNDING_METHOD);
}

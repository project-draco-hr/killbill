{
  final CallContext callContext=createContext(createdBy,reason,comment,request);
  final DateTime timestamp;
  if (timestampString == null) {
    timestamp=clock.getUTCNow();
  }
 else {
    timestamp=DATE_TIME_FORMATTER.parseDateTime(timestampString);
  }
  if (withAggregate) {
    meterApi.incrementUsageAndAggregate(source,categoryName,metricName,timestamp,callContext);
  }
 else {
    meterApi.incrementUsage(source,categoryName,metricName,timestamp,callContext);
  }
  return Response.ok().build();
}

{
  List<OverdueState> result=new ArrayList<OverdueState>();
  for (  BillingStateBundle state : states) {
    for (    OverdueStage<BundleCondition> stage : bundleOverdueStages) {
      if (stage.getCondition().evaluate(state,now)) {
        OverdueState ods=new OverdueState(state.getObjectId(),stage.getStageName(),stage.getExternalMessage(),stage.isCancelled());
        result.add(ods);
        break;
      }
    }
  }
  return result;
}

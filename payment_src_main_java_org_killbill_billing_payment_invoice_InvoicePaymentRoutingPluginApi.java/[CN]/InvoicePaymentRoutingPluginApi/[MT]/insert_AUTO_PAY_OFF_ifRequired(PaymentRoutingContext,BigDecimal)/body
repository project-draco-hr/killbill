{
  if (paymentRoutingContext.isApiPayment() || !isAccountAutoPayOff(paymentRoutingContext.getAccountId(),paymentRoutingContext)) {
    return false;
  }
  final PluginAutoPayOffModelDao data=new PluginAutoPayOffModelDao(paymentRoutingContext.getAttemptPaymentId(),paymentRoutingContext.getPaymentExternalKey(),paymentRoutingContext.getTransactionExternalKey(),paymentRoutingContext.getAccountId(),PLUGIN_NAME,paymentRoutingContext.getPaymentId(),paymentRoutingContext.getPaymentMethodId(),computedAmount,paymentRoutingContext.getCurrency(),CREATED_BY,clock.getUTCNow());
  controlDao.insertAutoPayOff(data);
  return true;
}

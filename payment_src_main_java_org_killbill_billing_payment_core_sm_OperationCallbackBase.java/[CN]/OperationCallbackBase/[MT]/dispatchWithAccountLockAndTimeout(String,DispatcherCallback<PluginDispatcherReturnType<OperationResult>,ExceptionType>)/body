{
  final Account account=paymentStateContext.getAccount();
  logger.debug("Dispatching plugin call for account {}",account.getExternalKey());
  try {
    final Callable<PluginDispatcherReturnType<OperationResult>> task=new CallableWithAccountLock<OperationResult,ExceptionType>(locker,account.getExternalKey(),paymentConfig,callback);
    logger.debug("Calling plugin(s) {}",pluginNames);
    final OperationResult operationResult=PaymentPluginDispatcher.dispatchWithExceptionHandling(account,pluginNames,task,paymentPluginDispatcher);
    logger.debug("Successful plugin(s) call of {} for account {} with result {}",pluginNames,account.getExternalKey(),operationResult);
    return operationResult;
  }
 catch (  final PaymentApiException e) {
    throw unwrapExceptionFromDispatchedTask(e);
  }
}

{
  final Map<UUID,List<AuditLog>> invoiceAuditLogs=new HashMap<UUID,List<AuditLog>>();
  final Map<UUID,List<AuditLog>> invoiceItemsAuditLogs=new HashMap<UUID,List<AuditLog>>();
  for (  final Invoice invoice : invoices) {
    invoiceAuditLogs.put(invoice.getId(),getAuditLogs(invoice.getId(),ObjectType.INVOICE));
    for (    final InvoiceItem invoiceItem : invoice.getInvoiceItems()) {
      invoiceItemsAuditLogs.put(invoiceItem.getId(),getAuditLogs(invoiceItem.getId(),ObjectType.INVOICE_ITEM));
    }
  }
  return new DefaultAuditLogsForInvoices(invoiceAuditLogs,invoiceItemsAuditLogs);
}

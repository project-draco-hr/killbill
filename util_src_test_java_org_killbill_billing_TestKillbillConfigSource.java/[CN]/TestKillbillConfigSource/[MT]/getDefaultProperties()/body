{
  final Properties properties=super.getDefaultProperties();
  properties.put("org.killbill.dao.url",DBTestingHelper.get().getJdbcConnectionString());
  properties.put("org.killbill.dao.user",DBTestingHelper.get().getUsername());
  properties.put("org.killbill.dao.password",DBTestingHelper.get().getPassword());
  properties.put("org.killbill.billing.osgi.jdbc.url",DBTestingHelper.get().getJdbcConnectionString());
  properties.put("org.killbill.billing.osgi.jdbc.user",DBTestingHelper.get().getUsername());
  properties.put("org.killbill.billing.osgi.jdbc.password",DBTestingHelper.get().getPassword());
  properties.put("org.killbill.notificationq.main.sleep","100");
  properties.put("org.killbill.notificationq.main.nbThreads","1");
  properties.put("org.killbill.notificationq.main.prefetch","1");
  properties.put("org.killbill.notificationq.main.claimed","1");
  properties.put("org.killbill.notificationq.main.useInFlightQ","false");
  properties.put("org.killbill.persistent.bus.main.sleep","100");
  properties.put("org.killbill.persistent.bus.main.nbThreads","1");
  properties.put("org.killbill.persistent.bus.main.prefetch","1");
  properties.put("org.killbill.persistent.bus.main.claimed","1");
  properties.put("org.killbill.persistent.bus.main.useInFlightQ","false");
  properties.put("org.killbill.persistent.bus.external.sleep","100");
  properties.put("org.killbill.persistent.bus.external.nbThreads","1");
  properties.put("org.killbill.persistent.bus.external.prefetch","1");
  properties.put("org.killbill.persistent.bus.external.claimed","1");
  properties.put("org.killbill.persistent.bus.external.useInFlightQ","false");
  if (extraDefaults != null) {
    for (    final String key : extraDefaults.keySet()) {
      properties.put(key,extraDefaults.get(key));
    }
  }
  return properties;
}

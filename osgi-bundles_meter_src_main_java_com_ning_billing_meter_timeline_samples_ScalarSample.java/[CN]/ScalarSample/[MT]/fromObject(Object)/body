{
  if (sampleValue == null) {
    return new ScalarSample<Void>(SampleOpcode.NULL,null);
  }
 else   if (sampleValue instanceof Byte) {
    return new ScalarSample<Byte>(SampleOpcode.BYTE,(Byte)sampleValue);
  }
 else   if (sampleValue instanceof Short) {
    return new ScalarSample<Short>(SampleOpcode.SHORT,(Short)sampleValue);
  }
 else   if (sampleValue instanceof Integer) {
    try {
      final short optimizedShort=Shorts.checkedCast(Long.valueOf(sampleValue.toString()));
      return new ScalarSample<Short>(SampleOpcode.SHORT,optimizedShort);
    }
 catch (    IllegalArgumentException e) {
      return new ScalarSample<Integer>(SampleOpcode.INT,(Integer)sampleValue);
    }
  }
 else   if (sampleValue instanceof Long) {
    try {
      final short optimizedShort=Shorts.checkedCast(Long.valueOf(sampleValue.toString()));
      return new ScalarSample<Short>(SampleOpcode.SHORT,optimizedShort);
    }
 catch (    IllegalArgumentException e) {
      try {
        final int optimizedLong=Ints.checkedCast(Long.valueOf(sampleValue.toString()));
        return new ScalarSample<Integer>(SampleOpcode.INT,optimizedLong);
      }
 catch (      IllegalArgumentException ohWell) {
        return new ScalarSample<Long>(SampleOpcode.LONG,(Long)sampleValue);
      }
    }
  }
 else   if (sampleValue instanceof Float) {
    return new ScalarSample<Float>(SampleOpcode.FLOAT,(Float)sampleValue);
  }
 else   if (sampleValue instanceof Double) {
    return new ScalarSample<Double>(SampleOpcode.DOUBLE,(Double)sampleValue);
  }
 else {
    return new ScalarSample<String>(SampleOpcode.STRING,sampleValue.toString());
  }
}

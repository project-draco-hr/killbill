{
  if (jrubyBundlePath == null) {
    return;
  }
  final List<PluginRubyConfig> pluginRubyConfigs=pluginFinder.getLatestRubyPlugins();
  if (pluginRubyConfigs.size() > 0 && jrubyBundlePath == null) {
    logger.warn("Unable to find the JRuby bundle for ruby plugins");
    return;
  }
  for (  final PluginRubyConfig cur : pluginRubyConfigs) {
    logger.info("Installing JRuby bundle for plugin {} from {}",cur.getPluginName(),cur.getRubyLoadDir());
    final Bundle bundle=context.installBundle("file:" + jrubyBundlePath);
    ((DefaultPluginConfigServiceApi)pluginConfigServiceApi).registerBundle(bundle.getBundleId(),cur);
    installedBundles.add(bundle);
  }
}

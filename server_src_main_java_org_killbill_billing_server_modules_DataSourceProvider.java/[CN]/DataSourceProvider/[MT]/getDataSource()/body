{
  final DataSource ds;
  if (DataSourceConnectionPoolingType.C3P0.equals(config.getConnectionPoolingType())) {
    ds=getC3P0DataSource();
  }
 else   if (DataSourceConnectionPoolingType.BONECP.equals(config.getConnectionPoolingType())) {
    ds=getBoneCPDatSource();
  }
 else {
    throw new IllegalArgumentException("DataSource " + config.getConnectionPoolingType() + " unsupported");
  }
  return ds;
}

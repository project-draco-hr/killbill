{
  tagDao.create(TAG_ONE,context);
  tagDao.create(TAG_TWO,context);
  final MockAccount account=new MockAccount(UUID.randomUUID(),ACCOUNT_KEY,ACCOUNT_CURRENCY);
  try {
    final List<TagDefinition> tagDefinitions=new ArrayList<TagDefinition>();
    tagDefinitions.add(TAG_ONE);
    tagDefinitions.add(TAG_TWO);
    final Account storedAccount=accountApi.createAccount(account,null,tagDefinitions,context);
    createSubscriptionTransitionEvent(storedAccount);
    createAccountCreationEvent(storedAccount);
    createInvoiceAndPaymentCreationEvents(storedAccount);
  }
 catch (  Throwable t) {
    fail("Initializing accounts failed.",t);
  }
}

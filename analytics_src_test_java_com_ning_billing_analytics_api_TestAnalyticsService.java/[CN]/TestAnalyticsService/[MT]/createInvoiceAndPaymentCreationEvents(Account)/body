{
  final DefaultInvoice invoice=new DefaultInvoice(account.getId(),clock.getUTCToday(),clock.getUTCToday(),ACCOUNT_CURRENCY);
  final FixedPriceInvoiceItem invoiceItem=new FixedPriceInvoiceItem(invoice.getId(),account.getId(),bundleId,subscriptionId,"somePlan","somePhase",clock.getUTCToday(),INVOICE_AMOUNT,ACCOUNT_CURRENCY);
  invoice.addInvoiceItem(invoiceItem);
  Mockito.when(invoiceInternalApi.getInvoicesByAccountId(Mockito.eq(account.getId()),Mockito.<InternalCallContext>any())).thenReturn(ImmutableList.<Invoice>of(invoice));
  invoiceCreationNotification=new DefaultInvoiceCreationEvent(invoice.getId(),account.getId(),INVOICE_AMOUNT,ACCOUNT_CURRENCY,null,1L,1L);
  paymentInfoNotification=new DefaultPaymentInfoEvent(UUID.randomUUID(),account.getId(),invoice.getId(),null,INVOICE_AMOUNT,-1,PaymentStatus.UNKNOWN,null,null,null,clock.getUTCNow(),1L,1L);
}

{
synchronized (sampleKinds) {
    Integer sampleKindId=getMetricId(eventCategoryId,sampleKind,context);
    if (sampleKindId == null) {
      sampleKindId=sampleKinds.size() + 1;
      sampleKinds.put(sampleKindId,new CategoryRecordIdAndMetric(eventCategoryId,sampleKind));
    }
    return sampleKindId;
  }
}

{
  BoundRequestBuilder builder=null;
  if (verb.equals("GET")) {
    builder=httpClient.prepareGet(url);
  }
 else   if (verb.equals("POST")) {
    builder=httpClient.preparePost(url);
  }
 else   if (verb.equals("PUT")) {
    builder=httpClient.preparePut(url);
  }
 else   if (verb.equals("DELETE")) {
    builder=httpClient.prepareDelete(url);
  }
 else   if (verb.equals("HEAD")) {
    builder=httpClient.prepareHead(url);
  }
 else   if (verb.equals("OPTIONS")) {
    builder=httpClient.prepareOptions(url);
  }
 else {
    Assert.fail("Unknown verb " + verb);
  }
  builder.addHeader(HEADER_CONTENT_TYPE,CONTENT_TYPE);
  builder.addHeader(HDR_API_KEY,apiKey);
  builder.addHeader(HDR_API_SECRET,apiSecret);
  for (  final Entry<String,String> q : queryParams.entrySet()) {
    builder.addQueryParameter(q.getKey(),q.getValue());
  }
  return builder;
}

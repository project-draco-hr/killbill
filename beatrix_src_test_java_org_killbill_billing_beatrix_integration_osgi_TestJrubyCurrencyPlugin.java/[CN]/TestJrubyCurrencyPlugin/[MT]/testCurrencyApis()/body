{
  CurrencyPluginApi api=getTestPluginCurrencyApi();
  final Set<Currency> currencies=api.getBaseCurrencies();
  assertEquals(currencies.size(),1);
  assertEquals(currencies.iterator().next(),Currency.USD);
  final DateTime res=api.getLatestConversionDate(Currency.USD);
  assertNotNull(res);
  final Set<Rate> rates=api.getCurrentRates(Currency.USD);
  assertEquals(rates.size(),1);
  final Rate theRate=rates.iterator().next();
  assertEquals(theRate.getBaseCurrency(),Currency.USD);
  assertEquals(theRate.getCurrency(),Currency.BRL);
  Assert.assertTrue(theRate.getValue().compareTo(new BigDecimal("12.3")) == 0);
}

{
  DateTime result=input;
  for (  IDuration cur : deltaFromRealityDuration) {
    int length=cur.getLength();
switch (cur.getUnit()) {
case DAYS:
      result=result.plusDays(cur.getLength());
    break;
case MONTHS:
  result=result.plusMonths(cur.getLength());
break;
case YEARS:
result=result.plusYears(cur.getLength());
break;
case UNLIMITED:
default :
throw new RuntimeException("ClockMock is adjusting an unlimtited time period");
}
}
if (deltaFromRealitDurationEpsilon != 0) {
result=result.plus(deltaFromRealitDurationEpsilon);
}
return result;
}

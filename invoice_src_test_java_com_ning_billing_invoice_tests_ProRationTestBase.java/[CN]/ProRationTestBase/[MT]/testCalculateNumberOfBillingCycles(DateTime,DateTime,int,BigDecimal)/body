{
  try {
    BigDecimal numberOfBillingCycles;
    numberOfBillingCycles=getBillingMode().calculateNumberOfBillingCycles(startDate,targetDate,billingCycleDay,getBillingPeriod());
    assertEquals(numberOfBillingCycles,expectedValue);
  }
 catch (  InvalidDateSequenceException idse) {
    throw idse;
  }
catch (  Exception e) {
    fail("Unexpected exception: " + e.getMessage());
  }
}

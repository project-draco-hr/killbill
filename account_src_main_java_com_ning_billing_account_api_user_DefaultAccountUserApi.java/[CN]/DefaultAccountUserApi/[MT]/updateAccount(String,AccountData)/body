{
  UUID accountId=getIdFromKey(externalKey);
  if (accountId == null) {
    throw new AccountApiException(ErrorCode.ACCOUNT_DOES_NOT_EXIST_FOR_KEY,externalKey);
  }
  Account account=new DefaultAccount(accountId,accountData);
  try {
    dao.update(account);
  }
 catch (  EntityPersistenceException e) {
    throw new AccountApiException(e,ErrorCode.ACCOUNT_UPDATE_FAILED);
  }
}

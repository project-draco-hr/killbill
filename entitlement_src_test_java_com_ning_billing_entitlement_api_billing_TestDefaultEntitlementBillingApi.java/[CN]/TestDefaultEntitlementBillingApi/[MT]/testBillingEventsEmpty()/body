{
  dao=BrainDeadProxyFactory.createBrainDeadProxyFor(EntitlementDao.class);
  ((ZombieControl)dao).addResult("getSubscriptionBundleForAccount",new ArrayList<SubscriptionBundle>());
  UUID accountId=UUID.randomUUID();
  Account account=BrainDeadProxyFactory.createBrainDeadProxyFor(Account.class);
  ((ZombieControl)account).addResult("getId",accountId).addResult("getCurrency",Currency.USD);
  AccountUserApi accountApi=BrainDeadProxyFactory.createBrainDeadProxyFor(AccountUserApi.class);
  ((ZombieControl)accountApi).addResult("getAccountById",account);
  EntitlementUserApi entitlementApi=BrainDeadProxyFactory.createBrainDeadProxyFor(EntitlementUserApi.class);
  BillCycleDayCalculator bcdCalculator=new BillCycleDayCalculator(catalogService,entitlementApi);
  CallContextFactory factory=new DefaultCallContextFactory(clock);
  DefaultEntitlementBillingApi api=new DefaultEntitlementBillingApi(factory,dao,accountApi,bcdCalculator);
  SortedSet<BillingEvent> events=api.getBillingEventsForAccountAndUpdateAccountBCD(new UUID(0L,0L));
  Assert.assertEquals(events.size(),0);
}

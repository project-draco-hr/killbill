{
  final List<BlockingState> blockingStates=new LinkedList<BlockingState>();
  for (  final Entitlement entitlement : entitlements) {
    blockingStates.addAll(((DefaultEntitlement)entitlement).getEventsStream().getBlockingStates());
  }
  this.accountId=accountId;
  this.bundleId=bundleId;
  this.externalKey=externalKey;
  this.events=computeEvents(entitlements,blockingStates,accountTimeZone);
}

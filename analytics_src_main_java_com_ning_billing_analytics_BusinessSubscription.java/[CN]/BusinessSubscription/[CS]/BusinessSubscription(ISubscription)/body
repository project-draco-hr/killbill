{
  final IPlan currentPlan=subscription.getCurrentPlan();
  if (currentPlan != null && currentPlan.getProduct() != null) {
    final IProduct product=currentPlan.getProduct();
    productName=product.getName();
    productCategory=product.getCategory();
    if (product.getType() != null) {
      productType=product.getType().getName();
    }
 else {
      productType=null;
    }
  }
 else {
    productName=null;
    productCategory=null;
    productType=null;
  }
  final IPlanPhase currentPhase=subscription.getCurrentPhase();
  if (currentPhase != null) {
    slug=currentPhase.getName();
    if (currentPhase.getPhaseType() != null) {
      phase=currentPhase.getPhaseType().toString();
    }
 else {
      phase=null;
    }
    if (currentPhase.getRecurringPrice() != null) {
      price=currentPhase.getRecurringPrice().getPrice(USD);
      mrr=getMrrFromISubscription(currentPhase.getDuration(),price);
    }
 else {
      price=null;
      mrr=null;
    }
  }
 else {
    slug=null;
    phase=null;
    price=null;
    mrr=null;
  }
  final IAccount account=subscription.getAccount();
  if (account != null && account.getCurrency() != null) {
    currency=account.getCurrency().toString();
  }
 else {
    currency=null;
  }
  startDate=subscription.getStartDate();
  state=subscription.getState();
  subscriptionId=subscription.getId();
  bundleId=subscription.getBundleId();
}

{
  if (internalPersistentBusConfig.getHistoryTableName().equals(externalPersistentBusConfig.getHistoryTableName())) {
    if (HISTORY_TABLE_NAME_DEFAULT_VALUE.equals(externalPersistentBusConfig.getHistoryTableName())) {
      logger.debug("Overriding default value for the external bus history table name");
      return HISTORY_TABLE_NAME_ALTERNATE_DEFAULT_VALUE;
    }
 else {
      throw new IllegalArgumentException("The external and internal buses cannot share the same history table name " + externalPersistentBusConfig.getHistoryTableName());
    }
  }
 else {
    return externalPersistentBusConfig.getHistoryTableName();
  }
}

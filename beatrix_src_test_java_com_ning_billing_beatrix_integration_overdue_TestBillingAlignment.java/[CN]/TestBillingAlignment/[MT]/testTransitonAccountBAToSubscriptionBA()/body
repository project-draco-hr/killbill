{
  final Account account=createAccountWithNonOsgiPaymentMethod(getAccountData(1));
  clock.setDay(new LocalDate(2012,4,1));
  final SubscriptionBundle bundle=entitlementUserApi.createBundleForAccount(account.getId(),"whatever",callContext);
  final Subscription bpSubscription=createSubscriptionAndCheckForCompletion(bundle.getId(),"Shotgun",ProductCategory.BASE,BillingPeriod.MONTHLY,NextEvent.CREATE,NextEvent.INVOICE);
  invoiceChecker.checkInvoice(account.getId(),1,callContext,new ExpectedInvoiceItemCheck(new LocalDate(2012,4,1),null,InvoiceItemType.FIXED,new BigDecimal("0")));
  addDaysAndCheckForCompletion(33,NextEvent.PHASE,NextEvent.INVOICE,NextEvent.PAYMENT);
  changeSubscriptionAndCheckForCompletion(bpSubscription,"Shotgun",BillingPeriod.ANNUAL,NextEvent.CHANGE,NextEvent.INVOICE);
}

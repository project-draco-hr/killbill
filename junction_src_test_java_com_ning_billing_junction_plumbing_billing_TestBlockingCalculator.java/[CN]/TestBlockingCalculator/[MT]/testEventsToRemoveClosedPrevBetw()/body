{
  DateTime now=clock.getUTCNow();
  List<DisabledDuration> disabledDuration=new ArrayList<BlockingCalculator.DisabledDuration>();
  SortedSet<BillingEvent> billingEvents=new TreeSet<BillingEvent>();
  disabledDuration.add(new DisabledDuration(now,now.plusDays(2)));
  BillingEvent e1=createRealEvent(now.minusDays(1),subscription1);
  BillingEvent e2=createRealEvent(now.plusDays(1),subscription1);
  billingEvents.add(e1);
  billingEvents.add(e2);
  SortedSet<BillingEvent> results=odc.eventsToRemove(disabledDuration,billingEvents,subscription1);
  assertEquals(results.size(),1);
  assertEquals(results.first(),e2);
}

{
  setStateAccount(false,false,false);
  setStateBundle(false,false,false);
  setStateSubscription(false,false,false);
  blockingChecker.checkBlockedChange(subscription,internalCallContext);
  blockingChecker.checkBlockedEntitlement(subscription,internalCallContext);
  blockingChecker.checkBlockedBilling(subscription,internalCallContext);
  clock.addDays(1);
  setStateSubscription(true,false,false);
  blockingChecker.checkBlockedEntitlement(subscription,internalCallContext);
  blockingChecker.checkBlockedBilling(subscription,internalCallContext);
  try {
    blockingChecker.checkBlockedChange(subscription,internalCallContext);
    Assert.fail("The call should have been blocked!");
  }
 catch (  BlockingApiException e) {
  }
  clock.addDays(1);
  setStateSubscription(false,true,false);
  blockingChecker.checkBlockedChange(subscription,internalCallContext);
  blockingChecker.checkBlockedBilling(subscription,internalCallContext);
  try {
    blockingChecker.checkBlockedEntitlement(subscription,internalCallContext);
    Assert.fail("The call should have been blocked!");
  }
 catch (  BlockingApiException e) {
  }
  clock.addDays(1);
  setStateSubscription(false,false,true);
  blockingChecker.checkBlockedChange(subscription,internalCallContext);
  blockingChecker.checkBlockedEntitlement(subscription,internalCallContext);
  try {
    blockingChecker.checkBlockedBilling(subscription,internalCallContext);
    Assert.fail("The call should have been blocked!");
  }
 catch (  BlockingApiException e) {
  }
  clock.addDays(1);
  setStateSubscription(false,false,false);
  setStateBundle(true,false,false);
  blockingChecker.checkBlockedEntitlement(subscription,internalCallContext);
  blockingChecker.checkBlockedBilling(subscription,internalCallContext);
  try {
    blockingChecker.checkBlockedChange(subscription,internalCallContext);
    Assert.fail("The call should have been blocked!");
  }
 catch (  BlockingApiException e) {
  }
  clock.addDays(1);
  setStateBundle(false,true,false);
  blockingChecker.checkBlockedChange(subscription,internalCallContext);
  blockingChecker.checkBlockedBilling(subscription,internalCallContext);
  try {
    blockingChecker.checkBlockedEntitlement(subscription,internalCallContext);
    Assert.fail("The call should have been blocked!");
  }
 catch (  BlockingApiException e) {
  }
  clock.addDays(1);
  setStateBundle(false,false,true);
  blockingChecker.checkBlockedChange(subscription,internalCallContext);
  blockingChecker.checkBlockedEntitlement(subscription,internalCallContext);
  try {
    blockingChecker.checkBlockedBilling(subscription,internalCallContext);
    Assert.fail("The call should have been blocked!");
  }
 catch (  BlockingApiException e) {
  }
  clock.addDays(1);
  setStateSubscription(false,false,false);
  setStateBundle(false,false,false);
  setStateAccount(true,false,false);
  blockingChecker.checkBlockedEntitlement(subscription,internalCallContext);
  blockingChecker.checkBlockedBilling(subscription,internalCallContext);
  try {
    blockingChecker.checkBlockedChange(subscription,internalCallContext);
    Assert.fail("The call should have been blocked!");
  }
 catch (  BlockingApiException e) {
  }
  clock.addDays(1);
  setStateAccount(false,true,false);
  blockingChecker.checkBlockedChange(subscription,internalCallContext);
  blockingChecker.checkBlockedBilling(subscription,internalCallContext);
  try {
    blockingChecker.checkBlockedEntitlement(subscription,internalCallContext);
    Assert.fail("The call should have been blocked!");
  }
 catch (  BlockingApiException e) {
  }
  clock.addDays(1);
  setStateAccount(false,false,true);
  blockingChecker.checkBlockedChange(subscription,internalCallContext);
  blockingChecker.checkBlockedEntitlement(subscription,internalCallContext);
  try {
    blockingChecker.checkBlockedBilling(subscription,internalCallContext);
    Assert.fail("The call should have been blocked!");
  }
 catch (  BlockingApiException e) {
  }
}

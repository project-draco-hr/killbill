{
  final List<BusinessSubscriptionTransitionModelDao> transitions=analyticsUserApi.getTransitionsForBundle(bundle.getKey(),callContext);
  final BusinessSubscriptionTransitionModelDao systemCancellation=transitions.get(3);
  Assert.assertEquals(systemCancellation.getExternalKey(),bundle.getKey());
  Assert.assertEquals(systemCancellation.getAccountKey(),account.getExternalKey());
  Assert.assertEquals(systemCancellation.getEvent().getCategory(),ProductCategory.BASE);
  Assert.assertEquals(systemCancellation.getEvent().getEventType(),BusinessSubscriptionEvent.EventType.SYSTEM_CANCEL);
  Assert.assertNull(systemCancellation.getNextSubscription());
  Assert.assertEquals(systemCancellation.getPreviousSubscription(),transitions.get(1).getNextSubscription());
}

{
  final InvoicePayment invoicePayment=Mockito.mock(InvoicePayment.class);
  Mockito.when(invoicePayment.getAmount()).thenReturn(paymentAmount);
  final BigDecimal actualRefundAmount=dao.computePositiveRefundAmount(invoicePayment,requestedAmount,invoiceItemIdsWithAmounts);
  Assert.assertEquals(actualRefundAmount,expectedRefundAmount);
}

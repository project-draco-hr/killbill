{
  try {
    final List<Entitlement> entitlements=entitlementApi.getAllEntitlementsForAccountId(accountId,context);
    if (entitlements.isEmpty()) {
      return Collections.emptyList();
    }
    return getSubscriptionBundles(entitlements,context);
  }
 catch (  EntitlementApiException e) {
    throw new SubscriptionApiException(e);
  }
catch (  SubscriptionBaseApiException e) {
    throw new SubscriptionApiException(e);
  }
catch (  AccountApiException e) {
    throw new SubscriptionApiException(e);
  }
}

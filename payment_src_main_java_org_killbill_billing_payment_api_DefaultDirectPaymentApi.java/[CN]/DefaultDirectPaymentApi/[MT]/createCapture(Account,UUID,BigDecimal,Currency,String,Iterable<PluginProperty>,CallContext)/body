{
  checkNotNullParameter(account,"account");
  checkNotNullParameter(directPaymentId,"paymentId");
  checkNotNullParameter(currency,"currency");
  checkNotNullParameter(directPaymentTransactionExternalKey,"paymentTransactionExternalKey");
  checkNotNullParameter(properties,"plugin properties");
  checkPositiveAmount(amount);
  final InternalCallContext internalCallContext=internalCallContextFactory.createInternalCallContext(account.getId(),callContext);
  return directPaymentProcessor.createCapture(IS_API_PAYMENT,account,directPaymentId,amount,currency,directPaymentTransactionExternalKey,SHOULD_LOCK_ACCOUNT,properties,callContext,internalCallContext);
}

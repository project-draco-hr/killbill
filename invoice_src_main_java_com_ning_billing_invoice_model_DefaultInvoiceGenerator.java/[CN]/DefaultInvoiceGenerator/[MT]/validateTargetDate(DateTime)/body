{
  String maximumNumberOfMonthsValue=System.getProperty(NUMBER_OF_MONTHS);
  int maximumNumberOfMonths=(maximumNumberOfMonthsValue == null) ? 36 : Integer.parseInt(maximumNumberOfMonthsValue);
  if (Months.monthsBetween(clock.getUTCNow(),targetDate).getMonths() > maximumNumberOfMonths) {
    throw new InvoiceApiException(ErrorCode.INVOICE_TARGET_DATE_TOO_FAR_IN_THE_FUTURE,targetDate.toString());
  }
}

{
  if (events == null) {
    return new InvoiceItemList();
  }
  if (events.size() == 0) {
    return new InvoiceItemList();
  }
  InvoiceItemList currentItems=generateInvoiceItems(events,targetDate,targetCurrency);
  InvoiceItemList itemsToPost=reconcileInvoiceItems(currentItems,existingItems);
  return itemsToPost;
}

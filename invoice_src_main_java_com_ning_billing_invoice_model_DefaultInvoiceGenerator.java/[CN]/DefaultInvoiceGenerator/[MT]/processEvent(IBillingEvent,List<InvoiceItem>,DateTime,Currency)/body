{
  BigDecimal rate=event.getPrice(targetCurrency);
  BigDecimal invoiceItemAmount=calculateInvoiceItemAmount(event,targetDate,rate);
  IBillingMode billingMode=getBillingMode(event.getBillingMode());
  DateTime billThroughDate=billingMode.calculateEffectiveEndDate(event.getEffectiveDate(),targetDate,event.getBillCycleDay(),event.getBillingPeriod());
  addInvoiceItem(items,event,billThroughDate,invoiceItemAmount,rate,targetCurrency);
}

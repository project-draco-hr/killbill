{
  boolean gotIt=false;
  try {
    voidPluginDispatcher.dispatchWithTimeout(new Callable<Void>(){
      @Override public Void call() throws Exception {
        throw new PaymentApiException(ErrorCode.PAYMENT_ADD_PAYMENT_METHOD,"foo","foo");
      }
    }
,100,TimeUnit.MILLISECONDS);
    Assert.fail("Failed : should have had Timeout exception");
  }
 catch (  final TimeoutException e) {
    Assert.fail("Failed : should have had PaymentApiException exception");
  }
catch (  final PaymentApiException e) {
    gotIt=true;
  }
catch (  OperationException e) {
    Assert.fail("Failed : should have had OperationException exception");
  }
  Assert.assertTrue(gotIt);
}

{
  UUID id=UUID.randomUUID();
  String objectType="Test widget";
  FieldStore fieldStore=new DefaultFieldStore(id,objectType);
  String fieldName="TestField1";
  String fieldValue="Kitty Hawk";
  fieldStore.setValue(fieldName,fieldValue);
  FieldStoreDao fieldStoreDao=dbi.onDemand(FieldStoreDao.class);
  fieldStoreDao.save(id.toString(),objectType,fieldStore.getEntityList());
  fieldStore=DefaultFieldStore.create(id,objectType);
  fieldStore.add(fieldStoreDao.load(id.toString(),objectType));
  assertEquals(fieldStore.getValue(fieldName),fieldValue);
  fieldValue="Cape Canaveral";
  fieldStore.setValue(fieldName,fieldValue);
  assertEquals(fieldStore.getValue(fieldName),fieldValue);
  fieldStoreDao.save(id.toString(),objectType,fieldStore.getEntityList());
  fieldStore=DefaultFieldStore.create(id,objectType);
  assertEquals(fieldStore.getValue(fieldName),null);
  fieldStore.add(fieldStoreDao.load(id.toString(),objectType));
  assertEquals(fieldStore.getValue(fieldName),fieldValue);
}

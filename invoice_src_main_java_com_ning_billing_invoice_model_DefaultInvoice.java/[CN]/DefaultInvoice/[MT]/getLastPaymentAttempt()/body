{
  DateTime lastPaymentAttempt=null;
  for (  final InvoicePayment paymentAttempt : payments) {
    DateTime paymentAttemptDate=paymentAttempt.getPaymentAttemptDate();
    if (lastPaymentAttempt == null) {
      lastPaymentAttempt=paymentAttemptDate;
    }
    if (lastPaymentAttempt.isBefore(paymentAttemptDate)) {
      lastPaymentAttempt=paymentAttemptDate;
    }
  }
  return lastPaymentAttempt;
}

{
  DateTime lastPaymentDate=null;
  for (  final InvoicePayment paymentAttempt : payments) {
    final DateTime paymentDate=paymentAttempt.getPaymentDate();
    if (lastPaymentDate == null) {
      lastPaymentDate=paymentDate;
    }
    if (lastPaymentDate.isBefore(paymentDate)) {
      lastPaymentDate=paymentDate;
    }
  }
  return lastPaymentDate;
}

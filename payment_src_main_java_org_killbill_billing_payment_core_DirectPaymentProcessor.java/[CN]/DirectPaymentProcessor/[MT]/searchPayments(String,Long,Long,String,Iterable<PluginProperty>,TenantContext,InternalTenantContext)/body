{
  final PaymentPluginApi pluginApi=getPaymentPluginApi(pluginName);
  return getEntityPagination(limit,new SourcePaginationBuilder<List<PaymentTransactionInfoPlugin>,PaymentApiException>(){
    @Override public Pagination<List<PaymentTransactionInfoPlugin>> build() throws PaymentApiException {
      return null;
    }
  }
,new Function<List<PaymentTransactionInfoPlugin>,DirectPayment>(){
    @Override public DirectPayment apply(    final List<PaymentTransactionInfoPlugin> pluginTransactions){
      if (pluginTransactions.size() == 0) {
        log.debug("Plugin {} returned a payment without a kbPaymentId for searchKey {}",pluginName,searchKey);
        return null;
      }
      return toDirectPayment(pluginTransactions.get(0).getKbPaymentId(),pluginTransactions,internalTenantContext);
    }
  }
);
}

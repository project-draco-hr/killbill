{
  subscriptionsDao.inTransaction(new Transaction<Void,ISubscriptionSqlDao>(){
    @Override public Void inTransaction(    ISubscriptionSqlDao dao,    TransactionStatus status) throws Exception {
      dao.insertSubscription(subscription);
      IEventSqlDao eventsDaoFromSameTranscation=dao.become(IEventSqlDao.class);
      for (      IEvent cur : initialEvents) {
        eventsDaoFromSameTranscation.insertEvent(cur);
      }
      return null;
    }
  }
);
  return new Subscription(subscription.getId(),subscription.getBundleId(),subscription.getCategory(),subscription.getBundleStartDate(),subscription.getStartDate(),subscription.getChargedThroughDate(),subscription.getPaidThroughDate(),subscription.getActiveVersion());
}

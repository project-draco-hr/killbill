{
  final String uri=JaxrsResource.INVOICES_PATH + "/" + invoiceId;
  final Map<String,String> queryParams=new HashMap<String,String>();
  queryParams.put(JaxrsResource.QUERY_INVOICE_WITH_ITEMS,withItems.toString());
  final Response response=doGet(uri,queryParams,DEFAULT_HTTP_TIMEOUT_SEC);
  Assert.assertEquals(response.getStatusCode(),Status.OK.getStatusCode());
  final String baseJson=response.getResponseBody();
  final T firstInvoiceJson=mapper.readValue(baseJson,clazz);
  assertNotNull(firstInvoiceJson);
  return firstInvoiceJson;
}

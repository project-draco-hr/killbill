{
  final CallbackTest callback=new CallbackTest(Integer.MAX_VALUE);
  final DirectPaymentOperation pluginOperation=getPluginOperation(false,1);
  try {
    pluginOperation.dispatchWithAccountLockAndTimeout(callback);
    Assert.fail();
  }
 catch (  final OperationException e) {
    Assert.assertEquals(e.getOperationResult(),OperationResult.EXCEPTION);
    Assert.assertTrue(e.getCause() instanceof TimeoutException);
  }
}

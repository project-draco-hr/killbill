{
  final PluginDispatcher<OperationResult> paymentPluginDispatcher=new PluginDispatcher<OperationResult>(timeoutSeconds,Executors.newCachedThreadPool());
  final PaymentStateContext paymentStateContext=new PaymentStateContext(true,UUID.randomUUID(),null,UUID.randomUUID().toString(),UUID.randomUUID().toString(),TransactionType.CAPTURE,account,UUID.randomUUID(),new BigDecimal("192.3920111"),Currency.BRL,shouldLockAccount,ImmutableList.<PluginProperty>of(),internalCallContext,callContext);
  final PaymentAutomatonDAOHelper daoHelper=Mockito.mock(PaymentAutomatonDAOHelper.class);
  Mockito.when(daoHelper.getPaymentProviderPlugin()).thenReturn(null);
  return new PluginOperationTest(daoHelper,locker,paymentPluginDispatcher,paymentStateContext);
}

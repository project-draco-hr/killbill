{
  final PluginDispatcher<OperationResult> paymentPluginDispatcher=new PluginDispatcher<OperationResult>(timeoutSeconds,Executors.newCachedThreadPool());
  final DirectPaymentStateContext directPaymentStateContext=new DirectPaymentStateContext(UUID.randomUUID(),UUID.randomUUID().toString(),UUID.randomUUID().toString(),TransactionType.CAPTURE,account,UUID.randomUUID(),new BigDecimal("192.3920111"),Currency.BRL,shouldLockAccount,ImmutableList.<PluginProperty>of(),internalCallContext,callContext);
  final DirectPaymentAutomatonDAOHelper daoHelper=Mockito.mock(DirectPaymentAutomatonDAOHelper.class);
  Mockito.when(daoHelper.getPaymentProviderPlugin()).thenReturn(null);
  return new PluginOperationTest(daoHelper,locker,paymentPluginDispatcher,directPaymentStateContext);
}

{
  String xml="<condition>" + "	<controlTag>OVERDUE_ENFORCEMENT_OFF</controlTag>" + "</condition>";
  InputStream is=new ByteArrayInputStream(xml.getBytes());
  MockCondition c=XMLLoader.getObjectFromStreamNoValidation(is,MockCondition.class);
  DateTime now=new DateTime();
  BillingState state0=new BillingState(new UUID(0L,1L),0,BigDecimal.ZERO,now,PaymentResponse.LOST_OR_STOLEN,new Tag[]{new DefaultControlTag("Martin",now,ControlTagType.AUTO_INVOICING_OFF),new DescriptiveTag(null,"Tag","Martin",now)});
  BillingState state1=new BillingState(new UUID(0L,1L),1,new BigDecimal("100.00"),now.minusDays(10),PaymentResponse.INSUFFICIENT_FUNDS,new Tag[]{new DefaultControlTag("Martin",now,ControlTagType.AUTO_PAY_OFF)});
  BillingState state2=new BillingState(new UUID(0L,1L),1,new BigDecimal("200.00"),now.minusDays(20),PaymentResponse.TEMPORARY_ACCOUNT_ISSUE,new Tag[]{new DefaultControlTag("Martin",now,ControlTagType.AUTO_PAY_OFF),new DefaultControlTag("Martin",now,ControlTagType.AUTO_INVOICING_OFF),new DescriptiveTag(null,"Tag","Martin",now)});
  Assert.assertTrue(!c.evaluate(state0,now));
  Assert.assertTrue(c.evaluate(state1,now));
  Assert.assertTrue(c.evaluate(state2,now));
}

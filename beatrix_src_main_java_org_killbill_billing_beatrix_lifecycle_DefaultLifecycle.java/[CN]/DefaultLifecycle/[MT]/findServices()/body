{
  final Set<KillbillService> result=new HashSet<KillbillService>();
  final Set<Class<? extends KillbillService>> services=serviceFinder.getServices();
  for (  final Class<? extends KillbillService> cur : services) {
    log.debug("Found service {}",cur.getName());
    try {
      final KillbillService instance=injector.getInstance(cur);
      log.debug("got instance {}",instance.getName());
      result.add(instance);
    }
 catch (    final Exception e) {
      if (!cur.getSimpleName().startsWith("Test")) {
        logWarn("Failed to inject " + cur.getName(),e);
      }
    }
  }
  return result;
}

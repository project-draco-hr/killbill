{
  Collection<PaymentAttempt> attempts=Collections2.filter(paymentAttempts.values(),new Predicate<PaymentAttempt>(){
    @Override public boolean apply(    PaymentAttempt input){
      return invoiceId.equals(input.getInvoiceId());
    }
  }
);
  return new ArrayList<PaymentAttempt>(attempts);
}

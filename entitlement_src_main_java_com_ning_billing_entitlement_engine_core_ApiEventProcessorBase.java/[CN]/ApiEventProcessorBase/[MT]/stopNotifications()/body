{
synchronized (this) {
    isProcessingEvents=false;
    try {
      log.info("ApiEventProcessor requested to stop");
      wait(STOP_WAIT_TIMEOUT_MS);
      executor=null;
      log.info("ApiEventProcessor requested should have exited");
    }
 catch (    InterruptedException e) {
      log.warn("Got interrupted exception when stopping notifications",e);
    }
  }
}

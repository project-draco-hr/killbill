{
  final SubscriptionBase subscription;
  final SubscriptionBaseBundle bundle;
  try {
    final InternalTenantContext internalTenantContext=internalCallContextFactory.createInternalTenantContext(tenantContext);
    subscription=subscriptionInternalApi.getSubscriptionFromId(entitlementId,internalTenantContext);
    bundle=subscriptionInternalApi.getBundleFromId(subscription.getBundleId(),internalTenantContext);
  }
 catch (  SubscriptionBaseApiException e) {
    throw new EntitlementApiException(e);
  }
  return buildForEntitlement(bundle,subscription,tenantContext);
}

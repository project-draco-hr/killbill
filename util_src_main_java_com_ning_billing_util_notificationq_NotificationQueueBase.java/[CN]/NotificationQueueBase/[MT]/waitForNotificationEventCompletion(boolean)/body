{
  long ini=System.nanoTime();
synchronized (this) {
    do {
      if ((startEvent ? startedComplete : stoppedComplete)) {
        break;
      }
      try {
        this.wait(NOTIFICATION_THREAD_WAIT_INCREMENT_MS);
      }
 catch (      InterruptedException e) {
        Thread.currentThread().interrupt();
        throw new NotificationError(e);
      }
    }
 while (!(startEvent ? startedComplete : stoppedComplete) && (System.nanoTime() - ini) / NANO_TO_MS < MAX_NOTIFICATION_THREAD_WAIT_MS);
    if (!(startEvent ? startedComplete : stoppedComplete)) {
      log.error("Could not {} notification thread in {} msec !!!",(startEvent ? "start" : "stop"),MAX_NOTIFICATION_THREAD_WAIT_MS);
      throw new NotificationError("Failed to start service!!");
    }
    log.info("Notification thread has been {} in {} ms",(startEvent ? "started" : "stopped"),(System.nanoTime() - ini) / NANO_TO_MS);
  }
}

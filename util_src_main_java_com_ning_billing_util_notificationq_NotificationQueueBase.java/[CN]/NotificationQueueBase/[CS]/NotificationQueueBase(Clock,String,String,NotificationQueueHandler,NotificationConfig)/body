{
  super(svcName,Executors.newFixedThreadPool(1,new ThreadFactory(){
    @Override public Thread newThread(    Runnable r){
      Thread th=new Thread(r);
      th.setName(NOTIFICATION_THREAD_PREFIX + svcName + "-"+ queueName);
      th.setUncaughtExceptionHandler(new UncaughtExceptionHandler(){
        @Override public void uncaughtException(        Thread t,        Throwable e){
          log.error("Uncaught exception for thread " + t.getName(),e);
        }
      }
);
      return th;
    }
  }
),1,STOP_WAIT_TIMEOUT_MS,config.getNotificationSleepTimeMs());
  this.clock=clock;
  this.svcName=svcName;
  this.queueName=queueName;
  this.handler=handler;
  this.config=config;
  this.hostname=Hostname.get();
  this.nbProcessedEvents=new AtomicLong();
}

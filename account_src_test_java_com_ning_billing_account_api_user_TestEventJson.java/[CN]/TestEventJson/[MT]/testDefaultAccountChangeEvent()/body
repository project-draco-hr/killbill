{
  final List<ChangedField> changes=new ArrayList<ChangedField>();
  changes.add(new DefaultChangedField("fieldXX","valueX","valueXXX"));
  changes.add(new DefaultChangedField("fieldYY","valueY","valueYYY"));
  final AccountChangeInternalEvent e=new DefaultAccountChangeEvent(UUID.randomUUID(),changes,UUID.randomUUID());
  final String json=mapper.writeValueAsString(e);
  final Class<?> claz=Class.forName("com.ning.billing.account.api.user.DefaultAccountChangeEvent");
  final Object obj=mapper.readValue(json,claz);
  Assert.assertTrue(obj.equals(e));
}

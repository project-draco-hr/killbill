{
  Account account=null;
  try {
    account=accountUserApi.getAccountByKey(externalKey);
    final PaymentProviderPlugin plugin=getPaymentProviderPlugin(account);
    return plugin.getPaymentProviderAccount(externalKey);
  }
 catch (  AccountApiException e) {
    throw new PaymentApiException(e);
  }
catch (  PaymentPluginApiException e) {
    throw new PaymentApiException(ErrorCode.PAYMENT_GET_PAYMENT_PROVIDER_ACCOUNT,account.getId(),e.getMessage());
  }
}

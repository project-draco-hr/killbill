{
  final AccountJson input=createAccount("xoxo","shdgfhwe","xoxo@yahoo.com");
  final Map<String,String> queryParams=new HashMap<String,String>();
  queryParams.put(JaxrsResource.QUERY_EXTERNAL_KEY,"shdgfhwe");
  Response response=doGet(JaxrsResource.ACCOUNTS_PATH,queryParams,DEFAULT_HTTP_TIMEOUT_SEC);
  Assert.assertEquals(response.getStatusCode(),Status.OK.getStatusCode());
  String baseJson=response.getResponseBody();
  AccountJson objFromJson=mapper.readValue(baseJson,AccountJson.class);
  Assert.assertTrue(objFromJson.equals(input));
  final AccountJson newInput=new AccountJson(objFromJson.getAccountId(),"zozo",4,objFromJson.getExternalKey(),"rr@google.com",new BillCycleDayJson(18,18),"USD",null,"UTC","bl1","bh2","","","ca","San Francisco","usa","en","415-255-2991",false,false);
  baseJson=mapper.writeValueAsString(newInput);
  final String uri=JaxrsResource.ACCOUNTS_PATH + "/" + objFromJson.getAccountId();
  response=doPut(uri,baseJson,DEFAULT_EMPTY_QUERY,DEFAULT_HTTP_TIMEOUT_SEC);
  Assert.assertEquals(response.getStatusCode(),Status.OK.getStatusCode());
  baseJson=response.getResponseBody();
  objFromJson=mapper.readValue(baseJson,AccountJson.class);
  Assert.assertTrue(objFromJson.equals(newInput));
}

{
  PaymentInfo paymentInfo=paymentApi.getPaymentInfoForPaymentAttemptId(paymentAttemptId);
  if (paymentInfo == null || !PaymentStatus.Processed.equals(PaymentStatus.valueOf(paymentInfo.getStatus()))) {
    paymentApi.createPaymentForPaymentAttempt(UUID.fromString(paymentAttemptId));
  }
}

{
  PaymentInfo paymentInfo=paymentApi.getPaymentInfoForPaymentAttemptId(paymentAttemptId);
  if (paymentInfo != null && PaymentStatus.Processed.equals(PaymentStatus.valueOf(paymentInfo.getStatus()))) {
    System.out.println("Found processed payment");
  }
 else {
    System.out.println("Creating payment for payment attempt " + paymentAttemptId);
    paymentApi.createPaymentForPaymentAttempt(UUID.fromString(paymentAttemptId),context);
  }
}

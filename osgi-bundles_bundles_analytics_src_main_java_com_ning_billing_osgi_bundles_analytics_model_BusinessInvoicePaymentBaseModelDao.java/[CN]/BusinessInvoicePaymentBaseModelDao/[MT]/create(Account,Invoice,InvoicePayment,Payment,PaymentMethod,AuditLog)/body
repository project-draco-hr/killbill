{
  if (invoicePayment.getType().equals(InvoicePaymentType.REFUND)) {
    return new BusinessInvoicePaymentRefundModelDao(account,invoice,invoicePayment,payment,paymentMethod,creationAuditLog);
  }
 else   if (invoicePayment.getType().equals(InvoicePaymentType.CHARGED_BACK)) {
    return new BusinessInvoicePaymentChargebackModelDao(account,invoice,invoicePayment,payment,paymentMethod,creationAuditLog);
  }
 else {
    return new BusinessInvoicePaymentModelDao(account,invoice,invoicePayment,payment,paymentMethod,creationAuditLog);
  }
}

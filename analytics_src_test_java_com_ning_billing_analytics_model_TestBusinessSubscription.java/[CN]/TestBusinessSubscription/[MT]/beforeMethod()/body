{
  super.beforeMethod();
  product=new MockProduct("platinium","subscription",ProductCategory.BASE);
  plan=new MockPlan("platinum-monthly",product);
  phase=new MockPhase(PhaseType.EVERGREEN,plan,MockDuration.UNLIMITED(),25.95);
  Mockito.when(catalog.findPlan(Mockito.anyString(),Mockito.<DateTime>any())).thenReturn(plan);
  Mockito.when(catalog.findPlan(Mockito.anyString(),Mockito.<DateTime>any(),Mockito.<DateTime>any())).thenReturn(plan);
  Mockito.when(catalog.findPhase(Mockito.anyString(),Mockito.<DateTime>any(),Mockito.<DateTime>any())).thenReturn(phase);
  Mockito.when(catalogService.getFullCatalog()).thenReturn(catalog);
  isubscription=new MockSubscription(SubscriptionState.ACTIVE,plan,phase);
  subscription=new BusinessSubscription(isubscription,USD,catalog);
}

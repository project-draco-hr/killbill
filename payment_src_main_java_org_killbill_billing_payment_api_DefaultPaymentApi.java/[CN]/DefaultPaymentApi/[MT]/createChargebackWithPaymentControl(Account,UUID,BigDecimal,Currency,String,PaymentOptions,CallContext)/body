{
  final List<String> paymentControlPluginNames=toPaymentControlPluginNames(paymentOptions);
  if (paymentControlPluginNames.isEmpty()) {
    return createChargeback(account,paymentId,amount,currency,paymentTransactionExternalKey,callContext);
  }
  checkNotNullParameter(account,"account");
  checkNotNullParameter(amount,"amount");
  checkNotNullParameter(currency,"currency");
  checkNotNullParameter(paymentId,"paymentId");
  final String transactionType=TransactionType.CHARGEBACK.name();
  logAPICall(transactionType,account,null,paymentId,null,amount,currency,null,paymentTransactionExternalKey,null,paymentControlPluginNames);
  final InternalCallContext internalCallContext=internalCallContextFactory.createInternalCallContext(account.getId(),callContext);
  final Payment payment=pluginControlPaymentProcessor.createChargeback(IS_API_PAYMENT,account,paymentId,paymentTransactionExternalKey,amount,currency,paymentControlPluginNames,callContext,internalCallContext);
  final PaymentTransaction paymentTransaction=payment.getTransactions().get(payment.getTransactions().size() - 1);
  logAPICall(transactionType,account,payment.getPaymentMethodId(),payment.getId(),paymentTransaction.getId(),paymentTransaction.getProcessedAmount(),paymentTransaction.getProcessedCurrency(),payment.getExternalKey(),paymentTransaction.getExternalKey(),paymentTransaction.getTransactionStatus(),paymentControlPluginNames);
  return payment;
}

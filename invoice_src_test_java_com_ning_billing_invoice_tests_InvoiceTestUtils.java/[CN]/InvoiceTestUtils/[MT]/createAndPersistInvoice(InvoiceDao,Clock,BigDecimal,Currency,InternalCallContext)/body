{
  try {
    return createAndPersistInvoice(invoiceDao,clock,ImmutableList.<BigDecimal>of(amount),currency,internalCallContext);
  }
 catch (  EntityPersistenceException e) {
    Assert.fail(e.getMessage());
    return null;
  }
}

{
  Currency currency=Currency.USD;
  Invoice invoice=generator.generateInvoice(events,invoiceItems,targetDate,currency);
  invoiceItems.addAll(invoice.getItems());
  assertNotNull(invoice);
  assertEquals(invoice.getNumberOfItems(),expectedNumberOfItems);
  assertEquals(invoice.getTotalAmount(),expectedAmount);
}

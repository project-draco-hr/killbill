{
  Currency currency=Currency.USD;
  UUID accountId=UUID.randomUUID();
  Invoice invoice=generator.generateInvoice(accountId,events,existingInvoiceItems,targetDate,currency);
  assertNotNull(invoice);
  assertEquals(invoice.getNumberOfItems(),expectedNumberOfItems);
  existingInvoiceItems.addAll(invoice.getInvoiceItems());
  assertEquals(invoice.getTotalAmount(),expectedAmount);
}

{
  Invoice invoice=new DefaultInvoice(UUID.randomUUID(),account.getId(),new DateTime(),targetDate,currency,null,new BigDecimal("0"));
  for (  InvoiceItem item : items) {
    invoice.add(new DefaultInvoiceItem(invoice.getId(),item.getSubscriptionId(),item.getStartDate(),item.getEndDate(),item.getDescription(),item.getAmount(),item.getRate(),item.getCurrency()));
  }
  invoiceDao.save(invoice);
  return invoice;
}

{
  final Set<String> allBasePlans=new HashSet<String>();
  final CatalogJsonSimple catalogJsonSimple=getSimpleCatalog();
  for (  final ProductJson productJson : catalogJsonSimple.getProducts()) {
    if (!"BASE".equals(productJson.getType())) {
      Assert.assertEquals(productJson.getIncluded().size(),0);
      Assert.assertEquals(productJson.getAvailable().size(),0);
      continue;
    }
    for (    final PlanJson planJson : productJson.getPlans()) {
      allBasePlans.add(planJson.getName());
    }
    final List<PlanDetailJson> availableAddons=getAvailableAddons(productJson.getName());
    final Set<String> availableAddonsNames=new HashSet<String>();
    for (    final PlanDetailJson planDetailJson : availableAddons) {
      availableAddonsNames.add(planDetailJson.getProductName());
    }
    Assert.assertEquals(availableAddonsNames,new HashSet<String>(productJson.getAvailable()));
  }
  final List<PlanDetailJson> basePlans=getBasePlans();
  final Set<String> foundBasePlans=new HashSet<String>();
  for (  final PlanDetailJson planDetailJson : basePlans) {
    foundBasePlans.add(planDetailJson.getPlanName());
  }
  Assert.assertEquals(foundBasePlans,allBasePlans);
}

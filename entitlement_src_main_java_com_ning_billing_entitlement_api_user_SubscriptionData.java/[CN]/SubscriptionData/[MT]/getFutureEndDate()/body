{
  if (transitions == null) {
    return null;
  }
  final SubscriptionTransitionDataIterator it=new SubscriptionTransitionDataIterator(clock,transitions,Order.ASC_FROM_PAST,Kind.ENTITLEMENT,Visibility.ALL,TimeLimit.FUTURE_ONLY);
  while (it.hasNext()) {
    final SubscriptionTransitionData cur=it.next();
    if (cur.getTransitionType() == SubscriptionTransitionType.CANCEL) {
      return cur.getEffectiveTransitionTime();
    }
  }
  return null;
}

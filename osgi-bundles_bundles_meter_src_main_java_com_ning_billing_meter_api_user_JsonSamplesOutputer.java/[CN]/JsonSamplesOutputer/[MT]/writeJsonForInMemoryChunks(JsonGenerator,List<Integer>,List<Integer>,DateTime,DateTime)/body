{
  for (  final Integer hostId : hostIdsList) {
    final Collection<? extends TimelineChunk> inMemorySamples;
    try {
      inMemorySamples=timelineEventHandler.getInMemoryTimelineChunks(hostId,sampleKindIdsList,startTime,endTime,context);
    }
 catch (    ExecutionException e) {
      throw new IOException(e);
    }
    writeJsonForChunks(generator,inMemorySamples);
  }
}

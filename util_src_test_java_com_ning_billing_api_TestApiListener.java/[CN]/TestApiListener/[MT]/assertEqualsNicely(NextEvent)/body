{
synchronized (this) {
    boolean foundIt=false;
    final Iterator<NextEvent> it=nextExpectedEvent.iterator();
    while (it.hasNext()) {
      final NextEvent ev=it.next();
      if (ev == received) {
        it.remove();
        foundIt=true;
        if (!nonExpectedMode) {
          log.info("Found expected event {}. Yeah!",received);
        }
 else {
          log.error("Found non expected event {}. Boohh! ",received);
        }
        break;
      }
    }
    if (!foundIt && !nonExpectedMode) {
      final Joiner joiner=Joiner.on(" ");
      log.error("Received unexpected event " + received + "; remaining expected events ["+ joiner.join(nextExpectedEvent)+ "]");
      if (testStatus != null) {
        testStatus.failed("TestApiListener [ApiListenerStatus]: Received unexpected event " + received + "; remaining expected events ["+ joiner.join(nextExpectedEvent)+ "]");
      }
    }
  }
}

{
  try {
    final PaymentAttemptModelDao attempt=paymentDao.getPaymentAttempt(attemptId,internalCallContext);
    final PaymentModelDao payment=paymentDao.getDirectPaymentByExternalKey(attempt.getPaymentExternalKey(),internalCallContext);
    final UUID paymentId=payment != null ? payment.getId() : null;
    final Iterable<PluginProperty> pluginProperties=PluginPropertySerializer.deserialize(attempt.getPluginProperties());
    final Account account=accountInternalApi.getAccountById(attempt.getAccountId(),internalCallContext);
    final UUID tenantId=nonEntityDao.retrieveIdFromObject(internalCallContext.getTenantRecordId(),ObjectType.TENANT);
    final CallContext callContext=internalCallContext.toCallContext(tenantId);
    final State state=pluginControlledDirectPaymentAutomatonRunner.fetchState(attempt.getStateName());
    pluginControlledDirectPaymentAutomatonRunner.run(state,false,attempt.getTransactionType(),account,attempt.getPaymentMethodId(),paymentId,attempt.getPaymentExternalKey(),attempt.getTransactionExternalKey(),attempt.getAmount(),attempt.getCurrency(),pluginProperties,pluginName,callContext,internalCallContext);
  }
 catch (  AccountApiException e) {
    log.warn("Failed to retry attempt " + attemptId + " for plugin "+ pluginName,e);
  }
catch (  PaymentApiException e) {
    log.warn("Failed to retry attempt " + attemptId + " for plugin "+ pluginName,e);
  }
catch (  PluginPropertySerializerException e) {
    log.warn("Failed to retry attempt " + attemptId + " for plugin "+ pluginName,e);
  }
}

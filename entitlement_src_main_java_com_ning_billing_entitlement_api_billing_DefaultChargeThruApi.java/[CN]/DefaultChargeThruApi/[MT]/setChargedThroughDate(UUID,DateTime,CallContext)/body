{
  final SubscriptionData subscription=(SubscriptionData)entitlementDao.getSubscriptionFromId(subscriptionFactory,subscriptionId);
  final SubscriptionBuilder builder=new SubscriptionBuilder(subscription).setChargedThroughDate(ctd).setPaidThroughDate(subscription.getPaidThroughDate());
  entitlementDao.updateChargedThroughDate(new SubscriptionData(builder),context);
}

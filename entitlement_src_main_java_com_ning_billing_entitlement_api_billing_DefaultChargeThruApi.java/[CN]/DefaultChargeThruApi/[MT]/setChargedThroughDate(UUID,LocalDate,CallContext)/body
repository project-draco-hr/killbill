{
  final SubscriptionData subscription=(SubscriptionData)entitlementDao.getSubscriptionFromId(subscriptionFactory,subscriptionId,internalCallContextFactory.createInternalCallContext(context));
  final DateTime chargedThroughDate=ctd.toDateTime(new LocalTime(subscription.getStartDate(),DateTimeZone.UTC),DateTimeZone.UTC);
  final SubscriptionBuilder builder=new SubscriptionBuilder(subscription).setChargedThroughDate(chargedThroughDate).setPaidThroughDate(subscription.getPaidThroughDate());
  entitlementDao.updateChargedThroughDate(new SubscriptionData(builder),internalCallContextFactory.createInternalCallContext(context));
}

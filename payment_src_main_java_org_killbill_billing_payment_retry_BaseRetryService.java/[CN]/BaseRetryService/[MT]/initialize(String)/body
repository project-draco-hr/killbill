{
  retryQueue=notificationQueueService.createNotificationQueue(svcName,getQueueName(),new NotificationQueueHandler(){
    @Override public void handleReadyNotification(    final NotificationEvent notificationKey,    final DateTime eventDateTime,    final UUID userToken,    final Long accountRecordId,    final Long tenantRecordId){
      if (!(notificationKey instanceof PaymentRetryNotificationKey)) {
        log.error("Payment service got an unexpected notification type {}",notificationKey.getClass().getName());
        return;
      }
      final PaymentRetryNotificationKey key=(PaymentRetryNotificationKey)notificationKey;
      final InternalCallContext callContext=internalCallContextFactory.createInternalCallContext(tenantRecordId,accountRecordId,PAYMENT_RETRY_SERVICE,CallOrigin.INTERNAL,UserType.SYSTEM,userToken);
      retry(key.getUuidKey(),ImmutableList.<PluginProperty>of(),callContext);
    }
  }
);
}

{
switch (dateGranularity) {
case WEEKLY:
    return smooth(inputData,new Function<XY,LocalDate>(){
      @Override public LocalDate apply(      final XY input){
        return input.getxDate().toLocalDate().withDayOfWeek(DateTimeConstants.MONDAY);
      }
    }
);
case MONTHLY:
  return smooth(inputData,new Function<XY,LocalDate>(){
    @Override public LocalDate apply(    final XY input){
      return input.getxDate().toLocalDate().withDayOfMonth(1);
    }
  }
);
default :
return inputData;
}
}

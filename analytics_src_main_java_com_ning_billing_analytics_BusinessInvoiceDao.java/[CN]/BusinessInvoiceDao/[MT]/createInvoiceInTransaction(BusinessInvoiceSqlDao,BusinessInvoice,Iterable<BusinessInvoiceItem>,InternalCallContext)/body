{
  log.info("Adding invoice {}",invoice);
  transactional.createInvoice(invoice,context);
  final BusinessInvoiceItemSqlDao invoiceItemSqlDao=transactional.become(BusinessInvoiceItemSqlDao.class);
  for (  final BusinessInvoiceItem invoiceItem : invoiceItems) {
    log.info("Adding invoice item {}",invoiceItem);
    invoiceItemSqlDao.createInvoiceItem(invoiceItem,context);
  }
}

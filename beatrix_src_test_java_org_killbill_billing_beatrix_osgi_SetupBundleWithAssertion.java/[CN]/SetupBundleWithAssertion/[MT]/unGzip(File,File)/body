{
  GZIPInputStream in=null;
  FileOutputStream out=null;
  try {
    final File outputFile=new File(outputDir,inputFile.getName().substring(0,inputFile.getName().length() - 3));
    in=new GZIPInputStream(new FileInputStream(inputFile));
    out=new FileOutputStream(outputFile);
    for (int c=in.read(); c != -1; c=in.read()) {
      out.write(c);
    }
    return outputFile;
  }
  finally {
    if (in != null) {
      in.close();
    }
    if (out != null) {
      out.close();
    }
  }
}

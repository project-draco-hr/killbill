{
  if (refundAmount == null || refundAmount.compareTo(BigDecimal.ZERO) <= 0) {
    throw new PaymentApiException(ErrorCode.PAYMENT_REFUND_AMOUNT_NEGATIVE_OR_NULL);
  }
  return refundProcessor.createRefund(account,paymentId,refundAmount,true,ImmutableMap.<UUID,BigDecimal>of(),internalCallContextFactory.createInternalCallContext(account.getId(),context));
}

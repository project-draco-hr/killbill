{
  final InputStream is=new ByteArrayInputStream(testOverdueHelper.getConfigXml().getBytes());
  final OverdueConfig config=XMLLoader.getObjectFromStreamNoValidation(is,OverdueConfig.class);
  overdueWrapperFactory.setOverdueConfig(config);
  final SubscriptionBaseBundle bundle=Mockito.mock(SubscriptionBaseBundle.class);
  Mockito.when(bundle.getId()).thenReturn(UUID.randomUUID());
  OverdueState<SubscriptionBaseBundle> state;
  state=config.getBundleStateSet().findState("OD1");
  applicator.apply(null,null,bundle,DefaultBlockingState.CLEAR_STATE_NAME,state,internalCallContext);
  testOverdueHelper.checkStateApplied(state);
  checkBussEvent("OD1");
  state=config.getBundleStateSet().findState("OD2");
  applicator.apply(null,null,bundle,DefaultBlockingState.CLEAR_STATE_NAME,state,internalCallContext);
  testOverdueHelper.checkStateApplied(state);
  checkBussEvent("OD2");
  state=config.getBundleStateSet().findState("OD3");
  applicator.apply(null,null,bundle,DefaultBlockingState.CLEAR_STATE_NAME,state,internalCallContext);
  testOverdueHelper.checkStateApplied(state);
  checkBussEvent("OD3");
}

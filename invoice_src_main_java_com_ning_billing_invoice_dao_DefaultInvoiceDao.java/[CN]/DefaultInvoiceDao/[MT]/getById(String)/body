{
  return invoiceDao.inTransaction(new Transaction<Invoice,InvoiceSqlDao>(){
    @Override public Invoice inTransaction(    final InvoiceSqlDao invoiceDao,    final TransactionStatus status) throws Exception {
      Invoice invoice=invoiceDao.getById(invoiceId);
      if (invoice != null) {
        InvoiceItemSqlDao invoiceItemDao=invoiceDao.become(InvoiceItemSqlDao.class);
        List<InvoiceItem> invoiceItems=invoiceItemDao.getInvoiceItemsByInvoice(invoiceId);
        invoice.add(invoiceItems);
      }
      return invoice;
    }
  }
);
}

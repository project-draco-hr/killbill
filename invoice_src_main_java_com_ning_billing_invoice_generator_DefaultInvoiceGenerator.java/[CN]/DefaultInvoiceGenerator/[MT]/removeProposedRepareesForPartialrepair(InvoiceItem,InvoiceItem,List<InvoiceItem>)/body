{
  List<InvoiceItem> removedReparees=Collections.emptyList();
  final Iterator<InvoiceItem> it=proposedItems.iterator();
  while (it.hasNext()) {
    final InvoiceItem cur=it.next();
    final UUID repairedSubscriptionId=repairedItem.getSubscriptionId();
    if (isRepareeItemForRepairedItem(repairedItem,cur) && !isRepareeIncludedInRepair(repairItem,repairedSubscriptionId,cur)) {
      if (removedReparees.size() == 0) {
        removedReparees=Lists.newLinkedList();
      }
      removedReparees.add(cur);
      it.remove();
    }
  }
  return removedReparees;
}

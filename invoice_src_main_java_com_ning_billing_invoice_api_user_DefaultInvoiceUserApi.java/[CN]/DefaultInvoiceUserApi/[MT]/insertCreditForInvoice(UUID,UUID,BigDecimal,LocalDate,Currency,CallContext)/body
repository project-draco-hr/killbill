{
  if (amount == null || amount.compareTo(BigDecimal.ZERO) <= 0) {
    throw new InvoiceApiException(ErrorCode.CREDIT_AMOUNT_INVALID,amount);
  }
  return dao.insertCredit(accountId,invoiceId,amount,effectiveDate,currency,context);
}

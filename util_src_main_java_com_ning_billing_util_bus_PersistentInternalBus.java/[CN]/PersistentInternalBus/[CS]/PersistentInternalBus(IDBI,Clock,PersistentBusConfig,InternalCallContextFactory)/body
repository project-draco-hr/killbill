{
  super("Bus",Executors.newFixedThreadPool(config.getNbThreads(),new ThreadFactory(){
    @Override public Thread newThread(    final Runnable r){
      return new Thread(new ThreadGroup(DefaultBusService.EVENT_BUS_GROUP_NAME),r,DefaultBusService.EVENT_BUS_TH_NAME);
    }
  }
),config.getNbThreads(),config);
  this.dao=dbi.onDemand(PersistentBusSqlDao.class);
  this.clock=clock;
  this.eventBusDelegate=new EventBusDelegate("Killbill EventBus");
  this.hostname=Hostname.get();
  this.internalCallContextFactory=internalCallContextFactory;
  this.isStarted=false;
}

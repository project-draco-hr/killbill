{
  loadSystemPropertiesFromClasspath("/entitlement.properties");
  final Injector g=getInjector();
  entitlementService=g.getInstance(IEntitlementSystem.class);
  entitlementApi=g.getInstance(IEntitlementUserApi.class);
  catalogService=g.getInstance(ICatalogService.class);
  billingApi=g.getInstance(IEntitlementBillingApi.class);
  config=g.getInstance(IEntitlementConfig.class);
  dao=g.getInstance(IEntitlementDao.class);
  clock=(ClockMock)g.getInstance(IClock.class);
  try {
    catalogService.initialize();
    entitlementService.initialize();
    init();
  }
 catch (  EntitlementUserApiException e) {
    Assert.fail(e.getMessage());
  }
catch (  ServiceException e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
}

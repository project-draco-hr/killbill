{
synchronized (monitor) {
    invoices.put(invoice.getId(),invoice);
  }
  try {
    eventBus.post(new DefaultInvoiceCreationEvent(invoice.getId(),invoice.getAccountId(),invoice.getBalance(),invoice.getCurrency(),null));
  }
 catch (  Bus.EventBusException ex) {
    throw new RuntimeException(ex);
  }
}

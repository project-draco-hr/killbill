{
  List<Invoice> result=new ArrayList<Invoice>();
synchronized (monitor) {
    for (    Invoice invoice : invoices.values()) {
      for (      InvoiceItem item : invoice.getItems()) {
        if (subscriptionId.equals(item.getSubscriptionId().toString())) {
          result.add(invoice);
          break;
        }
      }
    }
  }
  return munge(result);
}

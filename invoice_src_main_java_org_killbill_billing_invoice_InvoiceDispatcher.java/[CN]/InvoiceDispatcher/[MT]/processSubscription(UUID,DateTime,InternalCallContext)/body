{
  try {
    if (subscriptionId == null) {
      log.error("Failed handling SubscriptionBase change.",new InvoiceApiException(ErrorCode.INVOICE_INVALID_TRANSITION));
      return;
    }
    final UUID accountId=subscriptionApi.getAccountIdFromSubscriptionId(subscriptionId,context);
    processAccount(accountId,targetDate,null,context);
  }
 catch (  final SubscriptionBaseApiException e) {
    log.error("Failed handling SubscriptionBase change.",new InvoiceApiException(ErrorCode.INVOICE_NO_ACCOUNT_ID_FOR_SUBSCRIPTION_ID,subscriptionId.toString()));
  }
}

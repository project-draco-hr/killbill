{
  Product product1=cat.getProducts()[0];
  PriceList priceList1=cat.getPriceListFromName(IPriceListSet.DEFAULT_PRICELIST_NAME);
  PlanPhaseSpecifier from=new PlanPhaseSpecifier(product1.getName(),product1.getCategory(),BillingPeriod.MONTHLY,priceList1.getName(),PhaseType.EVERGREEN);
  PlanSpecifier to=new PlanSpecifier(product1.getName(),product1.getCategory(),BillingPeriod.MONTHLY,priceList1.getName());
  try {
    cat.getPlanRules().planChange(from,to,cat);
    Assert.fail("We did not see an exception when  trying to change plan to the same plan");
  }
 catch (  IllegalPlanChange e) {
    log.info("Correct - cannot change to the same plan:",e);
  }
}

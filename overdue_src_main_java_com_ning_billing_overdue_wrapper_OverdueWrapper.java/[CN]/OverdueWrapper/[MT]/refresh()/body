{
  if (overdueStateSet.size() < 1) {
    return overdueStateSet.getClearState();
  }
  final BillingState<T> billingState=billingState();
  final String previousOverdueStateName=api.getBlockingStateFor(overdueable).getStateName();
  final OverdueState<T> nextOverdueState=overdueStateSet.calculateOverdueState(billingState,clock.getToday(billingState.getAccountTimeZone()));
  if (nextOverdueState != null && !previousOverdueStateName.equals(nextOverdueState.getName())) {
    overdueStateApplicator.apply(overdueable,previousOverdueStateName,nextOverdueState);
  }
  return nextOverdueState;
}

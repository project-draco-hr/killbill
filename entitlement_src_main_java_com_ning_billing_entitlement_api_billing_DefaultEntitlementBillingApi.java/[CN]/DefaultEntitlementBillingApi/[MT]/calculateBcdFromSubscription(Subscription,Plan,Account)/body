{
  int result=account.getBillCycleDay();
  if (result != 0) {
    return result;
  }
  result=new DateTime(account.getTimeZone()).getDayOfMonth();
  try {
    result=billCycleDay(subscription.getStartDate(),account.getTimeZone(),plan);
  }
 catch (  CatalogApiException e) {
    log.error("Unexpected catalog error encountered when updating BCD",e);
  }
  Account modifiedAccount=new DefaultAccount(account.getId(),account.getExternalKey(),account.getEmail(),account.getName(),account.getFirstNameLength(),account.getCurrency(),result,account.getPaymentProviderName(),account.getTimeZone(),account.getLocale(),account.getAddress1(),account.getAddress2(),account.getCompanyName(),account.getCity(),account.getStateOrProvince(),account.getCountry(),account.getPostalCode(),account.getPhone(),account.getCreatedDate(),null);
  accountApi.updateAccount(modifiedAccount);
  return result;
}

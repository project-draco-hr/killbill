{
  final ItemSource itemSource;
  if (BusinessInvoiceItemType.ACCOUNT_CREDIT.equals(businessInvoiceItemType) && !isRevenueRecognizable(invoiceItem,otherInvoiceItems)) {
    itemSource=ItemSource.user;
  }
 else   if (BusinessInvoiceItemType.INVOICE_ADJUSTMENT.equals(businessInvoiceItemType)) {
    itemSource=ItemSource.user;
  }
 else   if (BusinessInvoiceItemType.INVOICE_ITEM_ADJUSTMENT.equals(businessInvoiceItemType) && !InvoiceItemType.REPAIR_ADJ.equals(invoiceItem.getInvoiceItemType())) {
    itemSource=ItemSource.user;
  }
 else   if (BusinessInvoiceItemType.CHARGE.equals(businessInvoiceItemType) && InvoiceItemType.EXTERNAL_CHARGE.equals(invoiceItem.getInvoiceItemType())) {
    itemSource=ItemSource.user;
  }
 else {
    itemSource=null;
  }
  return itemSource;
}

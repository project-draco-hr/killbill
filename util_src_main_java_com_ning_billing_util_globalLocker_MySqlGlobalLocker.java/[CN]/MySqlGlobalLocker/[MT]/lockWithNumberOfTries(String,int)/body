{
  int tries_left=i;
  while (tries_left-- > 0) {
    GlobalLock lock=lock(lockName);
    if (lock != null) {
      return lock;
    }
  }
  throw new LockFailedException();
}

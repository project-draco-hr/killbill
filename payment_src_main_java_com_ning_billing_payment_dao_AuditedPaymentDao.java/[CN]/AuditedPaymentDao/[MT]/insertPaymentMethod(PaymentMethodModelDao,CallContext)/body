{
  return paymentMethodSqlDao.inTransaction(new Transaction<PaymentMethodModelDao,PaymentMethodSqlDao>(){
    @Override public PaymentMethodModelDao inTransaction(    PaymentMethodSqlDao transactional,    TransactionStatus status) throws Exception {
      transactional.insertPaymentMethod(paymentMethod,context);
      PaymentMethodModelDao savedPaymentMethod=transactional.getPaymentMethod(paymentMethod.getId().toString());
      Long recordId=transactional.getRecordId(savedPaymentMethod.getId().toString());
      EntityHistory<PaymentMethodModelDao> history=new EntityHistory<PaymentMethodModelDao>(savedPaymentMethod.getId(),recordId,savedPaymentMethod,ChangeType.INSERT);
      transactional.insertHistoryFromTransaction(history,context);
      Long historyRecordId=transactional.getHistoryRecordId(recordId);
      EntityAudit audit=new EntityAudit(TableName.PAYMENT_METHODS,historyRecordId,ChangeType.INSERT);
      transactional.insertAuditFromTransaction(audit,context);
      return savedPaymentMethod;
    }
  }
);
}

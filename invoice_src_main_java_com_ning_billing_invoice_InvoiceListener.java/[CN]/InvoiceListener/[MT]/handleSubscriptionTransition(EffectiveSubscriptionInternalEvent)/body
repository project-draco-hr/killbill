{
  try {
    if (transition.getTransitionType() == SubscriptionTransitionType.UNCANCEL || transition.getTransitionType() == SubscriptionTransitionType.MIGRATE_ENTITLEMENT || transition.getRemainingEventsForUserOperation() > 0) {
      return;
    }
    final InternalCallContext context=internalCallContextFactory.createInternalCallContext(transition.getTenantRecordId(),transition.getAccountRecordId(),"Transition",CallOrigin.INTERNAL,UserType.SYSTEM,transition.getUserToken());
    dispatcher.processSubscription(transition,context);
  }
 catch (  InvoiceApiException e) {
    log.error(e.getMessage());
  }
}

{
  final List<PaymentMethod> allResults=new LinkedList<PaymentMethod>();
  for (  final String pluginName : getAvailablePlugins()) {
    try {
      final Pagination<PaymentMethod> paymentMethods=searchPaymentMethods(searchKey,0L,Long.MAX_VALUE,pluginName,internalTenantContext);
      allResults.addAll(ImmutableList.<PaymentMethod>copyOf(paymentMethods));
      if (allResults.size() > offset + limit) {
        break;
      }
    }
 catch (    PaymentApiException e) {
      log.warn("Error while searching plugin " + pluginName,e);
    }
  }
  return DefaultPagination.<PaymentMethod>build(offset,limit,allResults);
}

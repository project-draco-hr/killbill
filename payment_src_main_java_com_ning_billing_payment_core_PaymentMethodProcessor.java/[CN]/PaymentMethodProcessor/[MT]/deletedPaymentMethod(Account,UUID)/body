{
  PaymentMethodModelDao paymentMethodModel=paymentDao.getPaymentMethod(paymentMethodId);
  if (paymentMethodModel == null) {
    throw new PaymentApiException(ErrorCode.PAYMENT_NO_SUCH_PAYMENT_METHOD,account.getId(),paymentMethodId);
  }
  try {
    if (account.getPaymentMethodId().equals(paymentMethodId)) {
      throw new PaymentApiException(ErrorCode.PAYMENT_DEL_DEFAULT_PAYMENT_METHOD,account.getId());
    }
    PaymentPluginApi pluginApi=getPluginApi(paymentMethodId,account.getId());
    pluginApi.deletePaymentMethod(account.getExternalKey(),paymentMethodModel.getExternalId());
  }
 catch (  PaymentPluginApiException e) {
    throw new PaymentApiException(ErrorCode.PAYMENT_DEL_PAYMENT_METHOD,account.getId(),e.getErrorMessage());
  }
}

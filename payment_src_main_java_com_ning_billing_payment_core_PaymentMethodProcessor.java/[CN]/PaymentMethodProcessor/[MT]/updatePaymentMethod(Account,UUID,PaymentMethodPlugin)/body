{
  PaymentMethodModelDao paymentMethodModel=paymentDao.getPaymentMethod(paymentMethodId);
  if (paymentMethodModel == null) {
    throw new PaymentApiException(ErrorCode.PAYMENT_NO_SUCH_PAYMENT_METHOD,account.getId(),paymentMethodId);
  }
  try {
    PaymentPluginApi pluginApi=getPluginApi(paymentMethodId,account.getId());
    pluginApi.updatePaymentMethod(account.getExternalKey(),paymentMethodModel.getExternalId(),paymentMethodProps);
  }
 catch (  PaymentPluginApiException e) {
    throw new PaymentApiException(ErrorCode.PAYMENT_UPD_PAYMENT_METHOD,account.getId(),e.getErrorMessage());
  }
}

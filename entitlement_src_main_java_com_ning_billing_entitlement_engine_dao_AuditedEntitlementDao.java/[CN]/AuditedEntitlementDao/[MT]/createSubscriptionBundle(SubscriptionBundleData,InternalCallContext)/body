{
  return bundlesDao.inTransaction(new Transaction<SubscriptionBundle,BundleSqlDao>(){
    @Override public SubscriptionBundle inTransaction(    final BundleSqlDao transactional,    final TransactionStatus status){
      bundlesDao.insertBundle(bundle,context);
      final Long recordId=bundlesDao.getRecordId(bundle.getId().toString(),context);
      final EntityAudit audit=new EntityAudit(TableName.BUNDLES,recordId,ChangeType.INSERT);
      bundlesDao.insertAuditFromTransaction(audit,context);
      return bundle;
    }
  }
);
}

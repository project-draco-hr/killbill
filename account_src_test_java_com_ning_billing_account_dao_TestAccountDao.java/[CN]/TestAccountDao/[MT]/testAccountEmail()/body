{
  List<AccountEmail> emails;
  final UUID accountId=UUID.randomUUID();
  final AccountEmail email=new DefaultAccountEmail(accountId,"test@gmail.com");
  accountEmailDao.create(email,internalCallContext);
  emails=accountEmailDao.getByAccountId(accountId,internalCallContext);
  assertEquals(emails.size(),1);
  final AuditDao audit=new DefaultAuditDao(dbi);
  final List<AuditLog> auditLogs=audit.getAuditLogsForId(TableName.ACCOUNT_EMAIL,email.getId(),AuditLevel.FULL,internalCallContext);
  assertEquals(auditLogs.size(),1);
  accountEmailDao.delete(email,internalCallContext);
  emails=accountEmailDao.getByAccountId(accountId,internalCallContext);
  assertEquals(emails.size(),0);
}

{
  final AccountModelDao account=createTestAccount(1);
  accountDao.create(account,internalCallContext);
  final AccountData accountData=new MockAccountBuilder(new DefaultAccount(account)).migrated(false).isNotifiedForInvoices(false).timeZone(DateTimeZone.forID("Australia/Darwin")).locale("FR-CA").build();
  final AccountModelDao updatedAccount=new AccountModelDao(account.getId(),accountData);
  accountDao.update(updatedAccount,internalCallContext);
  final AccountModelDao savedAccount=accountDao.getAccountByKey(account.getExternalKey(),internalCallContext);
  assertNotNull(savedAccount);
  assertEquals(savedAccount.getName(),updatedAccount.getName());
  assertEquals(savedAccount.getEmail(),updatedAccount.getEmail());
  assertEquals(savedAccount.getPaymentMethodId(),updatedAccount.getPaymentMethodId());
  assertEquals(savedAccount.getBillingCycleDayLocal(),updatedAccount.getBillingCycleDayLocal());
  assertEquals(savedAccount.getBillingCycleDayUtc(),updatedAccount.getBillingCycleDayUtc());
  assertEquals(savedAccount.getFirstNameLength(),updatedAccount.getFirstNameLength());
  assertEquals(savedAccount.getTimeZone(),updatedAccount.getTimeZone());
  assertEquals(savedAccount.getLocale(),updatedAccount.getLocale());
  assertEquals(savedAccount.getAddress1(),updatedAccount.getAddress1());
  assertEquals(savedAccount.getAddress2(),updatedAccount.getAddress2());
  assertEquals(savedAccount.getCity(),updatedAccount.getCity());
  assertEquals(savedAccount.getStateOrProvince(),updatedAccount.getStateOrProvince());
  assertEquals(savedAccount.getCountry(),updatedAccount.getCountry());
  assertEquals(savedAccount.getPostalCode(),updatedAccount.getPostalCode());
  assertEquals(savedAccount.getPhone(),updatedAccount.getPhone());
}

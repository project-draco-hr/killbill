{
  final TagDefinition defYo=tagDefinitionDao.create("yo","defintion yo",context);
  tagDao.insertTag(UUID.randomUUID(),ObjectType.ACCOUNT,defYo.getId(),context);
  final Handle handle=dbi.open();
  final String tagHistoryString=(String)handle.select("select id from tag_history limit 1").get(0).get("id");
  handle.close();
  final List<AuditLog> auditLogs=auditDao.getAuditLogsForRecordId(TableName.TAG_HISTORY,UUID.fromString(tagHistoryString));
  Assert.assertEquals(auditLogs.size(),1);
  Assert.assertEquals(auditLogs.get(0).getUserToken(),context.getUserToken().toString());
  Assert.assertEquals(auditLogs.get(0).getChangeType(),ChangeType.INSERT);
  Assert.assertNull(auditLogs.get(0).getComment());
  Assert.assertNull(auditLogs.get(0).getReasonCode());
  Assert.assertEquals(auditLogs.get(0).getUserName(),context.getUserName());
  Assert.assertNotNull(auditLogs.get(0).getCreatedDate());
}

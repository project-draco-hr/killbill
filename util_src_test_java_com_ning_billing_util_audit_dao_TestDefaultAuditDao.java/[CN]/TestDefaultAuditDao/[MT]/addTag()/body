{
  final TagDefinitionModelDao tagDefinition=tagDefinitionDao.create(UUID.randomUUID().toString().substring(0,5),UUID.randomUUID().toString().substring(0,5),internalCallContext);
  Assert.assertEquals(tagDefinitionDao.getById(tagDefinition.getId(),internalCallContext),tagDefinition);
  final UUID objectId=UUID.randomUUID();
  final Tag tag=new DescriptiveTag(tagDefinition.getId(),ObjectType.ACCOUNT,objectId,clock.getUTCNow());
  tagDao.create(new TagModelDao(tag),internalCallContext);
  final List<TagModelDao> tags=tagDao.getTagsForObject(objectId,ObjectType.ACCOUNT,internalCallContext);
  Assert.assertEquals(tags.size(),1);
  final TagModelDao savedTag=tags.get(0);
  Assert.assertEquals(savedTag.getTagDefinitionId(),tagDefinition.getId());
  tagId=savedTag.getId();
}

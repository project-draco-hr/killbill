{
  final ImmutableList<PaymentInfoPlugin> results=ImmutableList.<PaymentInfoPlugin>copyOf(Iterables.<PaymentInfoPlugin>filter(payments.values(),new Predicate<PaymentInfoPlugin>(){
    @Override public boolean apply(    final PaymentInfoPlugin input){
      return (input.getKbPaymentId() != null && input.getKbPaymentId().toString().equals(searchKey)) || (input.getFirstPaymentReferenceId() != null && input.getFirstPaymentReferenceId().contains(searchKey)) || (input.getSecondPaymentReferenceId() != null && input.getSecondPaymentReferenceId().contains(searchKey));
    }
  }
));
  return DefaultPagination.<PaymentInfoPlugin>build(offset,limit,results);
}

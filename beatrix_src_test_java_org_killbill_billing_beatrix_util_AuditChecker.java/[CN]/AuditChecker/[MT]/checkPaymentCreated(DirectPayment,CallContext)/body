{
  final List<AuditLog> invoiceLogs=getAuditLogForPayment(payment,context);
  Assert.assertEquals(invoiceLogs.size(),1);
  checkAuditLog(ChangeType.INSERT,context,invoiceLogs.get(0),payment.getId(),DirectPaymentSqlDao.class,false,false);
  for (  DirectPaymentTransaction cur : payment.getTransactions()) {
    final List<AuditLog> auditLogs=getAuditLogForPaymentTransaction(payment,cur,context);
    Assert.assertEquals(auditLogs.size(),1);
    checkAuditLog(ChangeType.INSERT,context,auditLogs.get(0),cur.getId(),InvoiceItemSqlDao.class,false,false);
  }
}

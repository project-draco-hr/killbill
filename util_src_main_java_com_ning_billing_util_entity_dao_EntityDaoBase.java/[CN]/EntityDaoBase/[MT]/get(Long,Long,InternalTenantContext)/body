{
  final Long count=transactionalSqlDao.execute(new EntitySqlDaoTransactionWrapper<Long>(){
    @Override public Long inTransaction(    final EntitySqlDaoWrapperFactory<EntitySqlDao> entitySqlDaoWrapperFactory) throws Exception {
      final EntitySqlDao<M,E> sqlDao=entitySqlDaoWrapperFactory.become(realSqlDao);
      final Iterator<M> dumbIterator=sqlDao.get(offset,1L,getNaturalOrderingColumns(),context);
      while (dumbIterator.hasNext()) {
        dumbIterator.next();
      }
      return sqlDao.getFoundRows(context);
    }
  }
);
  final EntitySqlDao<M,E> sqlDao=transactionalSqlDao.onDemand(realSqlDao);
  final Long totalCount=sqlDao.getCount(context);
  final Iterator<M> results=sqlDao.get(offset,limit,getNaturalOrderingColumns(),context);
  return new DefaultPagination<M>(offset,limit,count,totalCount,results);
}

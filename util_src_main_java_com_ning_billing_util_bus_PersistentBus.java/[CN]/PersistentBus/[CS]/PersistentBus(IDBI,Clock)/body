{
  super("Bus",Executors.newFixedThreadPool(NB_BUS_THREADS,new ThreadFactory(){
    @Override public Thread newThread(    Runnable r){
      return new Thread(new ThreadGroup(DefaultBusService.EVENT_BUS_GROUP_NAME),r,DefaultBusService.EVENT_BUS_TH_NAME);
    }
  }
),NB_BUS_THREADS,TIMEOUT_MSEC,SLEEP_TIME_MS);
  this.dao=dbi.onDemand(PersistentBusSqlDao.class);
  this.clock=clock;
  this.objectMapper=new ObjectMapper();
  this.objectMapper.disable(SerializationConfig.Feature.WRITE_DATES_AS_TIMESTAMPS);
  this.eventBusDelegate=new EventBusDelegate("Killbill EventBus");
  this.hostname=Hostname.get();
}

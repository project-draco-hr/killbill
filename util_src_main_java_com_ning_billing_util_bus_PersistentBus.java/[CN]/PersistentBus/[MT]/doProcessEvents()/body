{
  final InternalCallContext context=createCallContext(null);
  final List<BusEventEntry> events=getNextBusEvent(context);
  if (events.size() == 0) {
    return 0;
  }
  int result=0;
  for (  final BusEventEntry cur : events) {
    final BusEvent evt=deserializeEvent(cur.getBusEventClass(),cur.getBusEventJson());
    result++;
    eventBusDelegate.post(evt);
    dao.clearBusEvent(cur.getId(),hostname,context);
  }
  return result;
}

{
  List<BusEventEntry> events=getNextBusEvent();
  if (events.size() == 0) {
    return 0;
  }
  int result=0;
  for (  final BusEventEntry cur : events) {
    BusEvent e=deserializeBusEvent(cur.getBusEventClass(),cur.getBusEventJson());
    result++;
    eventBusDelegate.post(e);
    dao.clearBusEvent(cur.getId(),hostname);
  }
  return result;
}

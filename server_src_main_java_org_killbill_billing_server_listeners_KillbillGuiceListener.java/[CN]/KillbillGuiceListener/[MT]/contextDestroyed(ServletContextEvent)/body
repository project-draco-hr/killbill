{
  super.contextDestroyed(sce);
  logger.info("IrsKillbillListener : contextDestroyed");
  if (killbillLifecycle == null) {
    return;
  }
  killbillLifecycle.fireShutdownSequencePriorEventUnRegistration();
  try {
    killbillBusService.getBus().unregister(killbilleventHandler);
  }
 catch (  PersistentBus.EventBusException e) {
    logger.warn("Failed to unregister for event notifications",e);
  }
  killbillLifecycle.fireShutdownSequencePostEventUnRegistration();
  if (embeddedDB != null) {
    try {
      embeddedDB.stop();
    }
 catch (    final IOException ignored) {
    }
  }
}

{
  try {
    Account account=null;
    if (externalKey != null) {
      account=accountApi.getAccountByKey(externalKey);
    }
    if (account == null) {
      return Response.status(Status.NO_CONTENT).build();
    }
    final AccountJson json=new AccountJson(account);
    return Response.status(Status.OK).entity(json).build();
  }
 catch (  AccountApiException e) {
    if (e.getCode() == ErrorCode.ACCOUNT_DOES_NOT_EXIST_FOR_KEY.getCode()) {
      return Response.status(Status.NO_CONTENT).build();
    }
 else {
      return Response.status(Status.BAD_REQUEST).build();
    }
  }
}

{
  final TenantContext tenantContext=context.createContext(request);
  final List<Account> accounts=accountUserApi.searchAccounts(searchKey,tenantContext);
  final List<AccountJson> accountsJson=ImmutableList.<AccountJson>copyOf(Collections2.transform(accounts,new Function<Account,AccountJson>(){
    @Override public AccountJson apply(    final Account account){
      return getAccount(account,accountWithBalance,accountWithBalanceAndCBA,tenantContext);
    }
  }
));
  return Response.status(Status.OK).entity(accountsJson).build();
}

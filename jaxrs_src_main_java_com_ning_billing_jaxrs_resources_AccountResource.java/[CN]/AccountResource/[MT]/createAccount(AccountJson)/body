{
  try {
    AccountData data=json.toAccountData();
    final Account account=accountApi.createAccount(data,null,null,context.getContext());
    URI uri=UriBuilder.fromPath(account.getId().toString()).build();
    Response.ResponseBuilder ri=Response.created(uri);
    return ri.entity(new Object(){
      public URI getUri(){
        return UriBuilder.fromResource(AccountResource.class).path(AccountResource.class,"getAccount").build(account.getId());
      }
    }
).build();
  }
 catch (  AccountApiException e) {
    log.info(String.format("Failed to create account %s",json),e);
    return Response.status(Status.BAD_REQUEST).build();
  }
}

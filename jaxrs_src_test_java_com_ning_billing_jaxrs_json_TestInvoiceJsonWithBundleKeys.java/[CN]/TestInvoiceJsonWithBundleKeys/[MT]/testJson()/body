{
  final BigDecimal amount=BigDecimal.TEN;
  final BigDecimal cba=BigDecimal.ONE;
  final BigDecimal creditAdj=BigDecimal.ONE;
  final BigDecimal refundAdj=BigDecimal.ONE;
  final String invoiceId=UUID.randomUUID().toString();
  final LocalDate invoiceDate=clock.getUTCToday();
  final LocalDate targetDate=clock.getUTCToday();
  final String invoiceNumber=UUID.randomUUID().toString();
  final BigDecimal balance=BigDecimal.ZERO;
  final String accountId=UUID.randomUUID().toString();
  final String bundleKeys=UUID.randomUUID().toString();
  CreditJson creditJson=createCreditJson();
  final List<CreditJson> credits=ImmutableList.<CreditJson>of(creditJson);
  final InvoiceJsonWithBundleKeys invoiceJsonSimple=new InvoiceJsonWithBundleKeys(amount,cba,creditAdj,refundAdj,invoiceId,invoiceDate,targetDate,invoiceNumber,balance,accountId,bundleKeys,credits);
  Assert.assertEquals(invoiceJsonSimple.getAmount(),amount);
  Assert.assertEquals(invoiceJsonSimple.getCBA(),cba);
  Assert.assertEquals(invoiceJsonSimple.getCreditAdj(),creditAdj);
  Assert.assertEquals(invoiceJsonSimple.getRefundAdj(),refundAdj);
  Assert.assertEquals(invoiceJsonSimple.getInvoiceId(),invoiceId);
  Assert.assertEquals(invoiceJsonSimple.getInvoiceDate(),invoiceDate);
  Assert.assertEquals(invoiceJsonSimple.getTargetDate(),targetDate);
  Assert.assertEquals(invoiceJsonSimple.getInvoiceNumber(),invoiceNumber);
  Assert.assertEquals(invoiceJsonSimple.getBalance(),balance);
  Assert.assertEquals(invoiceJsonSimple.getAccountId(),accountId);
  Assert.assertEquals(invoiceJsonSimple.getBundleKeys(),bundleKeys);
  Assert.assertEquals(invoiceJsonSimple.getCredits(),credits);
  final String asJson=mapper.writeValueAsString(invoiceJsonSimple);
  Assert.assertEquals(asJson,"{\"amount\":" + invoiceJsonSimple.getAmount().toString() + ","+ "\"cba\":"+ invoiceJsonSimple.getCBA().toString()+ ","+ "\"creditAdj\":"+ invoiceJsonSimple.getCreditAdj().toString()+ ","+ "\"refundAdj\":"+ invoiceJsonSimple.getRefundAdj().toString()+ ","+ "\"invoiceId\":\""+ invoiceJsonSimple.getInvoiceId()+ "\","+ "\"invoiceDate\":\""+ invoiceJsonSimple.getInvoiceDate().toString()+ "\","+ "\"targetDate\":\""+ invoiceJsonSimple.getTargetDate().toString()+ "\","+ "\"invoiceNumber\":\""+ invoiceJsonSimple.getInvoiceNumber()+ "\","+ "\"balance\":"+ invoiceJsonSimple.getBalance().toString()+ ","+ "\"accountId\":\""+ invoiceJsonSimple.getAccountId()+ "\","+ "\"credits\":["+ "{\"creditAmount\":"+ creditJson.getCreditAmount()+ ","+ "\"invoiceId\":\""+ creditJson.getInvoiceId().toString()+ "\","+ "\"invoiceNumber\":\""+ creditJson.getInvoiceNumber()+ "\","+ "\"requestedDate\":\""+ creditJson.getRequestedDate().toDateTimeISO().toString()+ "\","+ "\"effectiveDate\":\""+ creditJson.getEffectiveDate().toDateTimeISO().toString()+ "\","+ "\"reason\":\""+ creditJson.getReason()+ "\","+ "\"accountId\":\""+ creditJson.getAccountId().toString()+ "\"}],"+ "\"bundleKeys\":\""+ invoiceJsonSimple.getBundleKeys()+ "\"}");
  final InvoiceJsonWithBundleKeys fromJson=mapper.readValue(asJson,InvoiceJsonWithBundleKeys.class);
  Assert.assertEquals(fromJson,invoiceJsonSimple);
}

{
  final Invoice invoice=Mockito.mock(Invoice.class);
  Mockito.when(invoice.getChargedAmount()).thenReturn(BigDecimal.TEN);
  Mockito.when(invoice.getCreditedAmount()).thenReturn(BigDecimal.ONE);
  Mockito.when(invoice.getRefundedAmount()).thenReturn(BigDecimal.ONE);
  Mockito.when(invoice.getId()).thenReturn(UUID.randomUUID());
  Mockito.when(invoice.getInvoiceDate()).thenReturn(clock.getUTCToday());
  Mockito.when(invoice.getTargetDate()).thenReturn(clock.getUTCToday());
  Mockito.when(invoice.getInvoiceNumber()).thenReturn(Integer.MAX_VALUE);
  Mockito.when(invoice.getBalance()).thenReturn(BigDecimal.ZERO);
  Mockito.when(invoice.getAccountId()).thenReturn(UUID.randomUUID());
  Mockito.when(invoice.getCurrency()).thenReturn(Currency.MXN);
  final String bundleKeys=UUID.randomUUID().toString();
  final List<CreditJson> credits=ImmutableList.<CreditJson>of(createCreditJson());
  final InvoiceJsonWithBundleKeys invoiceJsonWithBundleKeys=new InvoiceJsonWithBundleKeys(invoice,bundleKeys,credits,null);
  Assert.assertEquals(invoiceJsonWithBundleKeys.getAmount(),invoice.getChargedAmount());
  Assert.assertEquals(invoiceJsonWithBundleKeys.getCreditAdj(),invoice.getCreditedAmount());
  Assert.assertEquals(invoiceJsonWithBundleKeys.getRefundAdj(),invoice.getRefundedAmount());
  Assert.assertEquals(invoiceJsonWithBundleKeys.getInvoiceId(),invoice.getId().toString());
  Assert.assertEquals(invoiceJsonWithBundleKeys.getInvoiceDate(),invoice.getInvoiceDate());
  Assert.assertEquals(invoiceJsonWithBundleKeys.getTargetDate(),invoice.getTargetDate());
  Assert.assertEquals(invoiceJsonWithBundleKeys.getInvoiceNumber(),String.valueOf(invoice.getInvoiceNumber()));
  Assert.assertEquals(invoiceJsonWithBundleKeys.getBalance(),invoice.getBalance());
  Assert.assertEquals(invoiceJsonWithBundleKeys.getAccountId(),invoice.getAccountId().toString());
  Assert.assertEquals(invoiceJsonWithBundleKeys.getBundleKeys(),bundleKeys);
  Assert.assertEquals(invoiceJsonWithBundleKeys.getCredits(),credits);
  Assert.assertNull(invoiceJsonWithBundleKeys.getAuditLogs());
}

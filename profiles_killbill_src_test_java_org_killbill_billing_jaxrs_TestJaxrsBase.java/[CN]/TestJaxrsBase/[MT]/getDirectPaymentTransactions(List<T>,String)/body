{
  return ImmutableList.copyOf(Iterables.concat(Iterables.transform(payments,new Function<T,Iterable<Transaction>>(){
    @Override public Iterable<Transaction> apply(    final T input){
      return Iterables.filter(input.getTransactions(),new Predicate<Transaction>(){
        @Override public boolean apply(        final Transaction input){
          return input.getTransactionType().equals(transactionType);
        }
      }
);
    }
  }
)));
}

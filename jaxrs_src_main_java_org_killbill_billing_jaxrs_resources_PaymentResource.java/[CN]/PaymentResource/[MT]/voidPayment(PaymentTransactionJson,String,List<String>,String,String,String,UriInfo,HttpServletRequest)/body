{
  final Iterable<PluginProperty> pluginProperties=extractPluginProperties(pluginPropertiesString);
  final CallContext callContext=context.createContext(createdBy,reason,comment,request);
  final UUID paymentId=getPaymentId(json,callContext);
  final Payment initialPayment=paymentApi.getPayment(paymentId,false,pluginProperties,callContext);
  final Account account=accountUserApi.getAccountById(initialPayment.getAccountId(),callContext);
  final String transactionExternalKey=json != null ? json.getTransactionExternalKey() : null;
  final Payment payment=paymentApi.createVoid(account,paymentId,transactionExternalKey,pluginProperties,callContext);
  return uriBuilder.buildResponse(uriInfo,PaymentResource.class,"getPayment",payment.getId());
}

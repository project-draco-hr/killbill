{
  final List<InvoicePayment> invoicePayments=getInvoicePayments(paymentId,context);
  if (invoicePayments.size() == 0) {
    return null;
  }
  return Collections2.filter(invoicePayments,new Predicate<InvoicePayment>(){
    @Override public boolean apply(    final InvoicePayment input){
      return input.getType() == InvoicePaymentType.ATTEMPT;
    }
  }
).iterator().next();
}

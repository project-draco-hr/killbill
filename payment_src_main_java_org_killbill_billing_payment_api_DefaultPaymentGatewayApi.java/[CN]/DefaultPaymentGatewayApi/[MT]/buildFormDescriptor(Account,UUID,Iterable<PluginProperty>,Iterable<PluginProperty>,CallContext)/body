{
  final UUID paymentMethodIdToUse=paymentMethodId != null ? paymentMethodId : account.getPaymentMethodId();
  if (paymentMethodId == null) {
    throw new PaymentApiException(ErrorCode.PAYMENT_INVALID_PARAMETER,paymentMethodId,"should not be null");
  }
  return paymentGatewayProcessor.buildFormDescriptor(account,paymentMethodIdToUse,customFields,properties,callContext,internalCallContextFactory.createInternalCallContext(account.getId(),callContext));
}

{
  final DecimalFormat number=(DecimalFormat)DecimalFormat.getCurrencyInstance(locale);
  java.util.Currency currency=java.util.Currency.getInstance(invoice.getCurrency().toString());
  DecimalFormatSymbols dfs=number.getDecimalFormatSymbols();
  dfs.setInternationalCurrencySymbol(currency.getCurrencyCode());
  dfs.setCurrencySymbol(currency.getSymbol(currencyLocaleMap.get(currency)));
  number.setDecimalFormatSymbols(dfs);
  return number.format(amount.doubleValue());
}

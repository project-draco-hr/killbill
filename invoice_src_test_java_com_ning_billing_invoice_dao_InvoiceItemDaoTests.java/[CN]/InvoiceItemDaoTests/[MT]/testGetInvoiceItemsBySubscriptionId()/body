{
  UUID subscriptionId=UUID.randomUUID();
  DateTime startDate=new DateTime(2011,3,1,0,0,0,0);
  BigDecimal rate=new BigDecimal("20.00");
  for (int i=0; i < 3; i++) {
    UUID invoiceId=UUID.randomUUID();
    DefaultInvoiceItem item=new DefaultInvoiceItem(invoiceId,subscriptionId,"test plan","test phase",startDate.plusMonths(i),startDate.plusMonths(i + 1),rate,rate,null,Currency.USD);
    invoiceItemDao.create(item);
  }
  List<InvoiceItem> items=invoiceItemDao.getInvoiceItemsBySubscription(subscriptionId.toString());
  assertEquals(items.size(),3);
}

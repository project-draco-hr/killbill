{
  UUID accountId=UUID.randomUUID();
  UUID invoiceId=UUID.randomUUID();
  DateTime startDate=new DateTime(2011,3,1,0,0,0,0);
  BigDecimal rate=new BigDecimal("20.00");
  for (int i=0; i < 5; i++) {
    UUID subscriptionId=UUID.randomUUID();
    BigDecimal amount=rate.multiply(new BigDecimal(i + 1));
    RecurringInvoiceItem item=new RecurringInvoiceItem(invoiceId,accountId,subscriptionId,"test plan","test phase",startDate,startDate.plusMonths(1),amount,amount,Currency.USD);
    recurringInvoiceItemDao.create(item,context);
  }
  List<InvoiceItem> items=recurringInvoiceItemDao.getInvoiceItemsByInvoice(invoiceId.toString());
  assertEquals(items.size(),5);
}

{
  for (  PaymentTransaction transaction : payment.getTransactions()) {
    if (transaction.getTransactionType() == transactionType && Objects.equals(transaction.getExternalKey(),transactionExternalKey)) {
      return transaction;
    }
  }
  return Iterables.getLast(payment.getTransactions());
}

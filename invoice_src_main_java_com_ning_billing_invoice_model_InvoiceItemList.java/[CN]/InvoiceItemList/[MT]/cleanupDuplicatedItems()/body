{
  Iterator<InvoiceItem> iterator=this.iterator();
  while (iterator.hasNext()) {
    InvoiceItem item=iterator.next();
    boolean fixedAmountNull=(item.getFixedAmount() == null);
    boolean recurringRateNull=(item.getRecurringRate() == null);
    boolean recurringAmountZero=(item.getRecurringRate() != null) && (item.getRecurringAmount().compareTo(BigDecimal.ZERO) == 0);
    if (fixedAmountNull && (recurringRateNull || recurringAmountZero)) {
      iterator.remove();
    }
 else     if (item.getEndDate() != null && item.getStartDate().compareTo(item.getEndDate()) == 0) {
      iterator.remove();
    }
 else     if (item.getFixedAmount() == null && item.getRecurringAmount() == null) {
      iterator.remove();
    }
  }
}

{
  final List<Subscription> subscriptions=subscriptionInternalApi.getSubscriptionsForBundle(bundleId,context);
  return ImmutableList.<Entitlement>copyOf(Collections2.transform(subscriptions,new Function<Subscription,Entitlement>(){
    @Nullable @Override public Entitlement apply(    @Nullable final Subscription input){
      return new DefaultEntitlement(accountApi,subscriptionInternalApi,input,accountId,internalCallContextFactory,clock,checker);
    }
  }
));
}

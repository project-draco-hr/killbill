{
  final InternalTenantContext context=internalCallContextFactory.createInternalTenantContext(accountId,tenantContext);
  final Map<UUID,List<SubscriptionBase>> subscriptionsPerBundle=subscriptionInternalApi.getSubscriptionsForAccount(context);
  final List<Entitlement> result=new LinkedList<Entitlement>();
  for (  final UUID bundleId : subscriptionsPerBundle.keySet()) {
    final List<Entitlement> entitlements=getAllEntitlementsForBundle(subscriptionsPerBundle.get(bundleId),tenantContext);
    result.addAll(entitlements);
  }
  return result;
}

{
  final InternalTenantContext internalContext=internalCallContextFactory.createInternalTenantContext(context);
  try {
    final SubscriptionBaseBundle bundle=subscriptionInternalApi.getBundleFromId(bundleId,internalContext);
    final SubscriptionBase baseSubscription=subscriptionInternalApi.getBaseSubscription(bundleId,internalContext);
    final InternalTenantContext contextWithValidAccountRecordId=internalCallContextFactory.createInternalTenantContext(bundle.getAccountId(),context);
    final DateTime requestedDate=dateHelper.fromLocalDateAndReferenceTime(effectiveDate,baseSubscription.getStartDate(),contextWithValidAccountRecordId);
    return subscriptionInternalApi.getDryRunChangePlanStatus(baseSubscription.getId(),targetProductName,requestedDate,contextWithValidAccountRecordId);
  }
 catch (  SubscriptionBaseApiException e) {
    throw new EntitlementApiException(e);
  }
}

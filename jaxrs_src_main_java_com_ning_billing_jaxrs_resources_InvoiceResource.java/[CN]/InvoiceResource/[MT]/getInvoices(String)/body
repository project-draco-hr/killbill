{
  try {
    Preconditions.checkNotNull(accountId,"% query parameter must be specified",QUERY_ACCOUNT_ID);
    accountApi.getAccountById(UUID.fromString(accountId));
    List<Invoice> invoices=invoiceApi.getInvoicesByAccount(UUID.fromString(accountId));
    List<InvoiceJson> result=new LinkedList<InvoiceJson>();
    for (    Invoice cur : invoices) {
      result.add(new InvoiceJson(cur));
    }
    return Response.status(Status.OK).entity(result).build();
  }
 catch (  AccountApiException e) {
    return Response.status(Status.NO_CONTENT).build();
  }
catch (  NullPointerException e) {
    return Response.status(Status.BAD_REQUEST).build();
  }
}

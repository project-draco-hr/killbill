{
  mysqlTestingHelper=new MysqlTestingHelper();
  dbi=mysqlTestingHelper.getDBI();
  final String invoiceDdl=IOUtils.toString(DefaultInvoiceDao.class.getResourceAsStream("/com/ning/billing/invoice/ddl.sql"));
  final String utilDdl=IOUtils.toString(DefaultInvoiceDao.class.getResourceAsStream("/com/ning/billing/util/ddl.sql"));
  mysqlTestingHelper.startMysql();
  mysqlTestingHelper.initDb(invoiceDdl);
  mysqlTestingHelper.initDb(utilDdl);
  NextBillingDatePoster nextBillingDatePoster=new MockNextBillingDatePoster();
  final TagDefinitionDao tagDefinitionDao=new MockTagDefinitionDao();
  final TagDao tagDao=new AuditedTagDao(dbi);
  final TagUserApi tagUserApi=new DefaultTagUserApi(tagDefinitionDao,tagDao);
  invoiceDao=new DefaultInvoiceDao(dbi,nextBillingDatePoster,tagUserApi);
  invoiceDao.test();
  recurringInvoiceItemDao=dbi.onDemand(RecurringInvoiceItemSqlDao.class);
  fixedPriceInvoiceItemSqlDao=dbi.onDemand(FixedPriceInvoiceItemSqlDao.class);
  creditInvoiceItemSqlDao=dbi.onDemand(CreditInvoiceItemSqlDao.class);
  invoicePaymentDao=dbi.onDemand(InvoicePaymentSqlDao.class);
  clock=new ClockMock();
  context=new TestCallContext("Invoice Dao Tests");
  generator=new DefaultInvoiceGenerator(clock,invoiceConfig);
  assertTrue(true);
}

{
  SubscriptionBundle bundle=null;
  if (invoiceItem.getBundleId() != null) {
    bundle=getSubscriptionBundle(invoiceItem.getBundleId(),context);
  }
  Plan plan=null;
  if (Strings.emptyToNull(invoiceItem.getPlanName()) != null) {
    plan=getPlanFromInvoiceItem(invoiceItem,context);
  }
  PlanPhase planPhase=null;
  if (invoiceItem.getSubscriptionId() != null && Strings.emptyToNull(invoiceItem.getPhaseName()) != null) {
    planPhase=getPlanPhaseFromInvoiceItem(invoiceItem,context);
  }
  final Long invoiceItemRecordId=getInvoiceItemRecordId(invoiceItem.getId(),context);
  final AuditLog creationAuditLog=getInvoiceItemCreationAuditLog(invoiceItem.getId(),context);
  final Long accountRecordId=getAccountRecordId(account.getId(),context);
  final Long tenantRecordId=getTenantRecordId(context);
  final ReportGroup reportGroup=getReportGroup(account.getId(),context);
  return createBusinessInvoiceItem(account,invoice,invoiceItem,otherInvoiceItemsOnInvoice,bundle,plan,planPhase,invoiceItemRecordId,creationAuditLog,accountRecordId,tenantRecordId,reportGroup,context);
}

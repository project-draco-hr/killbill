{
  if (!(annotation instanceof RequiresPermissions)) {
    return;
  }
  final RequiresPermissions requiresPermissions=(RequiresPermissions)annotation;
  final String[] permissions=new String[requiresPermissions.value().length];
  for (int i=0; i < permissions.length; i++) {
    permissions[i]=requiresPermissions.value()[i].toString();
  }
  final Subject subject=getSubject();
  if (permissions.length == 1) {
    subject.checkPermission(permissions[0]);
  }
 else   if (Logical.AND.equals(requiresPermissions.logical())) {
    subject.checkPermissions(permissions);
  }
 else   if (Logical.OR.equals(requiresPermissions.logical())) {
    boolean hasAtLeastOnePermission=false;
    for (    final String permission : permissions) {
      if (subject.isPermitted(permission)) {
        hasAtLeastOnePermission=true;
        break;
      }
    }
    if (!hasAtLeastOnePermission) {
      getSubject().checkPermission(permissions[0]);
    }
  }
}

{
synchronized (events) {
    final UUID subscriptionId=subscription.getId();
    cancelNextChangeEvent(subscriptionId);
    cancelNextPhaseEvent(subscriptionId);
    events.addAll(changeEvents);
    for (    final EntitlementEvent cur : changeEvents) {
      recordFutureNotificationFromTransaction(null,cur.getEffectiveDate(),new EntitlementNotificationKey(cur.getId()));
    }
  }
}

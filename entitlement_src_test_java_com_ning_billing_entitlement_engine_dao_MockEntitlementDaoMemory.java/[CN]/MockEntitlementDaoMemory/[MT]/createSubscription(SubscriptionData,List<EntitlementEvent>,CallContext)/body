{
synchronized (events) {
    events.addAll(initialEvents);
    for (    final EntitlementEvent cur : initialEvents) {
      recordFutureNotificationFromTransaction(null,cur.getEffectiveDate(),new EntitlementNotificationKey(cur.getId()));
    }
  }
  final Subscription updatedSubscription=buildSubscription(null,subscription);
  subscriptions.add(updatedSubscription);
}

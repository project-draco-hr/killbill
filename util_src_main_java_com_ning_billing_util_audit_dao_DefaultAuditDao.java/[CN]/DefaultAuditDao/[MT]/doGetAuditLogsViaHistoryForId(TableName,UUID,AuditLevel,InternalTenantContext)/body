{
  final List<AuditLog> auditLogs=new ArrayList<AuditLog>();
  Long targetRecordId=auditSqlDao.getRecordIdForTable(tableName.getTableName().toLowerCase(),objectId.toString(),context);
  final List<Long> recordIds=auditSqlDao.getHistoryRecordIdsForTable(tableName.getHistoryTableName().getTableName().toLowerCase(),targetRecordId,context);
  if (recordIds == null) {
    return auditLogs;
  }
 else {
    for (    final Long recordId : recordIds) {
      auditLogs.addAll(getAuditLogsForRecordId(tableName.getHistoryTableName(),recordId,auditLevel,context));
    }
    return auditLogs;
  }
}

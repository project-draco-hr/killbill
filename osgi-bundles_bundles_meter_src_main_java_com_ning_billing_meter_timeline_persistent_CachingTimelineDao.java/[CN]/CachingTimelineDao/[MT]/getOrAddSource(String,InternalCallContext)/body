{
  Integer sourceId=sourcesCache.inverse().get(source);
  if (sourceId == null) {
    sourceId=delegate.getOrAddSource(source,context);
synchronized (sourcesCache) {
      if (sourcesCache.get(sourceId) == null) {
        sourcesCache.put(sourceId,source);
      }
    }
  }
  return sourceId;
}

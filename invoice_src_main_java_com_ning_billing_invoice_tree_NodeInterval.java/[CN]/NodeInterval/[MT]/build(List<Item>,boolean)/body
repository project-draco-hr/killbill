{
  if (leftChild == null) {
    items.buildFromItems(output,mergeMode);
    return;
  }
  final NodeInterval lastChild=walkChildren(new ChildCallback(){
    LocalDate curDate=start;
    @Override public boolean performActionOnChild(    final NodeInterval prevChild,    final NodeInterval curChild){
      if (curChild.getStart().compareTo(curDate) > 0) {
        items.buildForMissingInterval(curDate,curChild.getStart(),output,mergeMode);
      }
      curChild.build(output,mergeMode);
      curDate=curChild.getEnd();
      return false;
    }
  }
);
  if (lastChild.getEnd().compareTo(end) < 0) {
    items.buildForMissingInterval(lastChild.getEnd(),end,output,mergeMode);
  }
}

{
  try {
    final IDBI dbi=getDBI();
    final NonEntityDao nonEntityDao=new DefaultNonEntityDao(dbi);
    customFieldDao=new DefaultCustomFieldDao(dbi,clock,controllerDispatcher,nonEntityDao);
  }
 catch (  Throwable t) {
    log.error("Setup failed",t);
    fail(t.toString());
  }
}

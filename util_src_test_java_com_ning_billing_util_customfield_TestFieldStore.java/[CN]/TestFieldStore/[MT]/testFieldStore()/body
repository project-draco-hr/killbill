{
  final UUID id=UUID.randomUUID();
  final ObjectType objectType=ObjectType.ACCOUNT;
  final FieldStore fieldStore1=new DefaultFieldStore(id,objectType);
  String fieldName="TestField1";
  String fieldValue="Kitty Hawk";
  fieldStore1.setValue(fieldName,fieldValue);
  CustomFieldSqlDao customFieldSqlDao=dbi.onDemand(CustomFieldSqlDao.class);
  customFieldDao.saveEntitiesFromTransaction(customFieldSqlDao,id,objectType,fieldStore1.getEntityList(),context);
  final FieldStore fieldStore2=DefaultFieldStore.create(id,objectType);
  fieldStore2.add(customFieldSqlDao.load(id.toString(),objectType));
  assertEquals(fieldStore2.getValue(fieldName),fieldValue);
  fieldValue="Cape Canaveral";
  fieldStore2.setValue(fieldName,fieldValue);
  assertEquals(fieldStore2.getValue(fieldName),fieldValue);
  customFieldDao.saveEntitiesFromTransaction(customFieldSqlDao,id,objectType,fieldStore2.getEntityList(),context);
  final FieldStore fieldStore3=DefaultFieldStore.create(id,objectType);
  assertEquals(fieldStore3.getValue(fieldName),null);
  fieldStore3.add(customFieldSqlDao.load(id.toString(),objectType));
  assertEquals(fieldStore3.getValue(fieldName),fieldValue);
}

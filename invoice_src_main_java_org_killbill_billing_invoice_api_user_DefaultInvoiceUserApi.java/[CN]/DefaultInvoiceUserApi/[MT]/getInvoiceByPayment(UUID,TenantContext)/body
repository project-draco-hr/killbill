{
  final InternalTenantContext tenantContext=internalCallContextFactory.createInternalTenantContext(context);
  final UUID invoiceId=dao.getInvoiceIdByPaymentId(paymentId,tenantContext);
  if (invoiceId == null) {
    throw new InvoiceApiException(ErrorCode.INVOICE_NOT_FOUND,invoiceId);
  }
  final InvoiceModelDao invoiceModelDao=invoiceId != null ? dao.getById(invoiceId,tenantContext) : null;
  return new DefaultInvoice(invoiceModelDao);
}

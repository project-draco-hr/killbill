{
  final String viewId=UUID.randomUUID().toString();
  final String reason=UUID.randomUUID().toString();
  final BundleJson bundleJson=createBundleWithSubscriptions();
  final InvoiceJsonSimple invoiceJsonSimple=createInvoice();
  final PaymentJson paymentJson=createPayment(UUID.fromString(invoiceJsonSimple.getAccountId()),UUID.fromString(invoiceJsonSimple.getInvoiceId()));
  final BundleTimelineJson bundleTimelineJson=new BundleTimelineJson(viewId,bundleJson,ImmutableList.<PaymentJson>of(paymentJson),ImmutableList.<InvoiceJsonSimple>of(invoiceJsonSimple),reason);
  final String asJson=mapper.writeValueAsString(bundleTimelineJson);
  final BundleTimelineJson fromJson=mapper.readValue(asJson,BundleTimelineJson.class);
  Assert.assertEquals(fromJson,bundleTimelineJson);
}

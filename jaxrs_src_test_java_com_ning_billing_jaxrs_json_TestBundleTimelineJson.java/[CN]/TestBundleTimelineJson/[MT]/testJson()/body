{
  final String viewId=UUID.randomUUID().toString();
  final String reason=UUID.randomUUID().toString();
  final BundleJsonWithSubscriptions bundleJsonWithSubscriptions=createBundleWithSubscriptions();
  final InvoiceJsonSimple invoiceJsonSimple=createInvoice();
  final PaymentJsonSimple paymentJsonSimple=createPayment(UUID.fromString(invoiceJsonSimple.getAccountId()),UUID.fromString(invoiceJsonSimple.getInvoiceId()));
  final BundleTimelineJson bundleTimelineJson=new BundleTimelineJson(viewId,bundleJsonWithSubscriptions,ImmutableList.<PaymentJsonSimple>of(paymentJsonSimple),ImmutableList.<InvoiceJsonSimple>of(invoiceJsonSimple),reason);
  final String asJson=mapper.writeValueAsString(bundleTimelineJson);
  final BundleTimelineJson fromJson=mapper.readValue(asJson,BundleTimelineJson.class);
  Assert.assertEquals(fromJson,bundleTimelineJson);
}

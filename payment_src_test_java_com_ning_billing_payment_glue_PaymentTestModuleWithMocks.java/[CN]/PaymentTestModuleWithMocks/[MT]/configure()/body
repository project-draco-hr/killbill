{
  loadSystemPropertiesFromClasspath("/payment.properties");
  super.configure();
  install(new BusModule(BusType.MEMORY));
  install(new MockNotificationQueueModule());
  install(new MockInvoiceModule());
  final AccountInternalApi accountInternalApi=Mockito.mock(AccountInternalApi.class);
  bind(AccountInternalApi.class).toInstance(accountInternalApi);
  final TagInternalApi tagUserApi=Mockito.mock(TagInternalApi.class);
  bind(TagInternalApi.class).toInstance(tagUserApi);
  Mockito.when(tagUserApi.getTags(Mockito.<UUID>any(),Mockito.<ObjectType>any(),Mockito.<InternalTenantContext>any())).thenReturn(ImmutableList.<Tag>of());
  bind(GlobalLocker.class).to(MockGlobalLocker.class).asEagerSingleton();
}

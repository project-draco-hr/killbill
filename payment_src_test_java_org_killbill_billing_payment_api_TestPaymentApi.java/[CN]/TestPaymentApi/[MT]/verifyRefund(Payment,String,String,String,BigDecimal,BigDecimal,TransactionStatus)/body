{
  Assert.assertEquals(refund.getExternalKey(),paymentExternalKey);
  Assert.assertEquals(refund.getTransactions().size(),2);
  Assert.assertEquals(refund.getTransactions().get(0).getAmount().compareTo(requestedAmount),0);
  Assert.assertEquals(refund.getTransactions().get(0).getProcessedAmount().compareTo(requestedAmount),0);
  Assert.assertEquals(refund.getTransactions().get(0).getCurrency(),account.getCurrency());
  Assert.assertEquals(refund.getTransactions().get(0).getExternalKey(),paymentTransactionExternalKey);
  Assert.assertEquals(refund.getTransactions().get(0).getTransactionStatus(),TransactionStatus.SUCCESS);
  Assert.assertEquals(refund.getTransactions().get(1).getAmount().compareTo(requestedAmount),0);
  Assert.assertEquals(refund.getTransactions().get(1).getProcessedAmount().compareTo(refundAmount),0);
  Assert.assertEquals(refund.getTransactions().get(1).getCurrency(),account.getCurrency());
  Assert.assertEquals(refund.getTransactions().get(1).getExternalKey(),refundTransactionExternalKey);
  Assert.assertEquals(refund.getTransactions().get(1).getTransactionStatus(),transactionStatus);
}

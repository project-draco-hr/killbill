{
  final TimedMigration[] events=migrationAligner.getEventsMigration(input,now);
  final DateTime migrationStartDate=events[0].getEventTime();
  final List<SubscriptionEvent> emptyEvents=Collections.emptyList();
  final SubscriptionData subscriptionData=createSubscriptionForApiUse(new SubscriptionBuilder().setId(UUID.randomUUID()).setBundleId(bundleId).setCategory(productCategory).setBundleStartDate(migrationStartDate).setAlignStartDate(migrationStartDate),emptyEvents);
  return new SubscriptionMigrationData(subscriptionData,toEvents(subscriptionData,now,ctd,events,context),ctd);
}
